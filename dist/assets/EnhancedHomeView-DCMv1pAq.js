var e=Object.defineProperty,a=(a,t,s)=>((a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s)(a,"symbol"!=typeof t?t+"":t,s);import{d as t,r as s,c as o,o as l,n,w as r,ak as c,P as i,al as u,am as d,a8 as g,an as p,X as v,a3 as h,t as y,v as m,x as f,A as k,C as S,D as w,G as b,J as _,F as T,B as x,y as C,K as I,E as q,af as H,Y as E,L as $,I as F,ao as M,a1 as O,ap as R,a5 as A,a6 as B,z as P}from"./vendor-BUZxw6e1.js";import{s as D,T as U,u as G,a as V,b as Q,_ as j,c as z,d as K}from"./index-BxdVNC7e.js";const L=new class{constructor(){a(this,"searchHistory",[]),a(this,"popularQueries",new Map)}async search(e){const a=Date.now(),{query:t,type:s="all",limit:o=20,offset:l=0}=e;try{let o=[],l=0,n={categories:[],tags:[],priceRanges:[]};switch(this.addToHistory(t,s),s){case"tools":const a=await this.searchTools(e);o=a.items,l=a.total,n=a.facets;break;case"products":const t=await this.searchProducts(e);o=t.items,l=t.total,n=t.facets;break;case"categories":const s=await this.searchCategories(e);o=s.items,l=s.total;break;default:const r=await this.searchAll(e);o=r.items,l=r.total,n=r.facets}const r=await this.generateSuggestions(t,s);return{items:o,total:l,query:t,suggestions:r,facets:n,searchTime:Date.now()-a}}catch(n){throw console.error("æœç´¢å¤±è´¥:",n),n}}async searchTools(e){const{query:a,category:t,tags:s,sortBy:o="relevance",sortOrder:l="desc",limit:n=20,offset:r=0}=e;let c=D.from(U.TOOLS).select("\n        *,\n        categories!inner(name, icon, color),\n        tool_tags!inner(tags!inner(name, color))\n      ",{count:"exact"});a&&(c=c.or(`\n        name.ilike.%${a}%,\n        description.ilike.%${a}%,\n        meta_title.ilike.%${a}%,\n        meta_description.ilike.%${a}%\n      `)),t&&(c=c.eq("category_id",t)),s&&s.length>0&&(c=c.in("tool_tags.tag_id",s)),c=c.eq("status","active"),"relevance"===o&&a?(c=c.order("is_featured",{ascending:!1}),c=c.order("click_count",{ascending:!1})):c=c.order(o,{ascending:"asc"===l}),c=c.range(r,r+n-1);const{data:i,error:u,count:d}=await c;if(u)throw u;return{items:i||[],total:d||0,facets:await this.generateToolsFacets(a,t,s)}}async searchProducts(e){const{query:a,category:t,priceRange:s,sortBy:o="relevance",sortOrder:l="desc",limit:n=20,offset:r=0}=e;let c=D.from(U.PRODUCTS).select("\n        *,\n        product_categories!inner(name, icon, color)\n      ",{count:"exact"});a&&(c=c.or(`\n        name.ilike.%${a}%,\n        description.ilike.%${a}%,\n        short_description.ilike.%${a}%,\n        meta_title.ilike.%${a}%,\n        meta_description.ilike.%${a}%\n      `)),t&&(c=c.eq("category_id",t)),s&&(c=c.gte("price",s[0]).lte("price",s[1])),c=c.eq("status","active"),c="relevance"===o&&a?c.order("is_featured",{ascending:!1}):c.order(o,{ascending:"asc"===l}),c=c.range(r,r+n-1);const{data:i,error:u,count:d}=await c;if(u)throw u;return{items:i||[],total:d||0,facets:await this.generateProductsFacets(a,t,s)}}async searchCategories(e){const{query:a,limit:t=20,offset:s=0}=e;let o=D.from(U.CATEGORIES).select("*",{count:"exact"});a&&(o=o.or(`\n        name.ilike.%${a}%,\n        description.ilike.%${a}%\n      `)),o=o.eq("is_active",!0).order("sort_order",{ascending:!0}).range(s,s+t-1);const{data:l,error:n,count:r}=await o;if(n)throw n;return{items:l||[],total:r||0}}async searchAll(e){const{limit:a=20}=e,[t,s,o]=await Promise.all([this.searchTools({...e,limit:Math.ceil(a/3)}),this.searchProducts({...e,limit:Math.ceil(a/3)}),this.searchCategories({...e,limit:Math.ceil(a/3)})]);return{items:[...t.items.map(e=>({...e,_type:"tool"})),...s.items.map(e=>({...e,_type:"product"})),...o.items.map(e=>({...e,_type:"category"}))],total:t.total+s.total+o.total,facets:{categories:[...t.facets.categories,...s.facets.categories],tags:t.facets.tags,priceRanges:s.facets.priceRanges}}}async generateToolsFacets(e,a,t){const s=D.from(U.CATEGORIES).select("\n        id, name,\n        tools!inner(id)\n      ",{count:"exact"}).eq("is_active",!0);e&&s.or(`\n        tools.name.ilike.%${e}%,\n        tools.description.ilike.%${e}%\n      `);const{data:o}=await s,l=(o||[]).map(e=>{var a;return{name:e.name,count:(null==(a=e.tools)?void 0:a.length)||0}}),n=D.from(U.TAGS).select("\n        id, name,\n        tool_tags!inner(tools!inner(id))\n      ",{count:"exact"});e&&n.or(`\n        tool_tags.tools.name.ilike.%${e}%,\n        tool_tags.tools.description.ilike.%${e}%\n      `);const{data:r}=await n;return{categories:l,tags:(r||[]).map(e=>{var a;return{name:e.name,count:(null==(a=e.tool_tags)?void 0:a.length)||0}}),priceRanges:[]}}async generateProductsFacets(e,a,t){const s=D.from(U.PRODUCT_CATEGORIES).select("\n        id, name,\n        products!inner(id)\n      ",{count:"exact"});e&&s.or(`\n        products.name.ilike.%${e}%,\n        products.description.ilike.%${e}%\n      `);const{data:o}=await s;return{categories:(o||[]).map(e=>{var a;return{name:e.name,count:(null==(a=e.products)?void 0:a.length)||0}}),tags:[],priceRanges:[{range:"0-50",count:0},{range:"50-100",count:0},{range:"100-500",count:0},{range:"500+",count:0}]}}async generateSuggestions(e,a){if(!e||e.length<2)return[];const t=[];try{const{data:a}=await D.from(U.TOOLS).select("name").ilike("name",`%${e}%`).eq("status","active").limit(5);null==a||a.forEach(e=>{t.includes(e.name)||t.push(e.name)});const{data:s}=await D.from(U.PRODUCTS).select("name").ilike("name",`%${e}%`).eq("status","active").limit(5);null==s||s.forEach(e=>{t.includes(e.name)||t.push(e.name)});const{data:o}=await D.from(U.CATEGORIES).select("name").ilike("name",`%${e}%`).eq("is_active",!0).limit(3);null==o||o.forEach(e=>{t.includes(e.name)||t.push(e.name)})}catch(s){console.error("ç”Ÿæˆæœç´¢å»ºè®®å¤±è´¥:",s)}return t.slice(0,8)}async getPopularSearches(e=10){return Array.from(this.popularQueries.entries()).sort((e,a)=>a[1]-e[1]).slice(0,e).map(([e])=>e)}getSearchHistory(e=10){return this.searchHistory.sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).slice(0,e)}clearSearchHistory(){this.searchHistory=[],localStorage.removeItem("search_history")}saveHistoryToStorage(){try{localStorage.setItem("search_history",JSON.stringify(this.searchHistory))}catch(e){console.error("ä¿å­˜æœç´¢å†å²å¤±è´¥:",e)}}loadHistoryFromStorage(){try{const e=localStorage.getItem("search_history");if(e){const a=JSON.parse(e);this.searchHistory=a.map(e=>({...e,timestamp:new Date(e.timestamp)}))}}catch(e){console.error("åŠ è½½æœç´¢å†å²å¤±è´¥:",e),this.searchHistory=[]}}addToHistory(e,a){const t={id:Date.now().toString(),query:e,type:a,timestamp:new Date,results_count:0};this.searchHistory=this.searchHistory.filter(t=>t.query!==e||t.type!==a),this.searchHistory.unshift(t),this.searchHistory.length>50&&(this.searchHistory=this.searchHistory.slice(0,50));const s=this.popularQueries.get(e)||0;this.popularQueries.set(e,s+1)}async getSmartSuggestions(e){const a=[];if(!e||e.length<2){return(await this.getPopularSearches(5)).map(e=>({text:e,type:"query"}))}try{(await this.generateSuggestions(e,"all")).forEach(e=>{a.push({text:e,type:"query"})});const{data:t}=await D.from(U.CATEGORIES).select("name").ilike("name",`%${e}%`).eq("is_active",!0).limit(3);null==t||t.forEach(e=>{a.push({text:e.name,type:"category"})});const{data:s}=await D.from(U.TAGS).select("name").ilike("name",`%${e}%`).limit(3);null==s||s.forEach(e=>{a.push({text:e.name,type:"tag"})})}catch(t){console.error("è·å–æ™ºèƒ½å»ºè®®å¤±è´¥:",t)}return a.slice(0,10)}},J=t({__name:"EnhancedSearchBox",props:{placeholder:{type:String,required:!1,default:"æœç´¢å·¥å…·ã€äº§å“ã€åˆ†ç±»..."},autoFocus:{type:Boolean,required:!1,default:!1},showAdvanced:{type:Boolean,required:!1,default:!1},defaultType:{type:String,required:!1,default:"all"}},emits:["search","clear","focus","blur"],setup(e,{expose:a,emit:t}){const y=e,m=t,f=G(),k=V(),S=s(),w=s(""),b=s(y.defaultType),_=s(!1),T=s(!1),x=s(!1),C=s(y.showAdvanced),I=s(!1),q=s(-1),H=s([]),E=s([]),$=s([]),F=s({category:"",sortBy:"relevance",sortOrder:"desc",priceMin:null,priceMax:null}),M=s([]),O=s(""),R=s([]),A=s(null),B=o(()=>k.categories),P=o(()=>[...H.value,...E.value.map(e=>({text:e.query,type:"query"}))]),D=async()=>{try{w.value?H.value=await L.getSmartSuggestions(w.value):(H.value=[],E.value=L.getSearchHistory(5),$.value=await L.getPopularSearches(8))}catch(e){console.error("åŠ è½½æœç´¢å»ºè®®å¤±è´¥:",e)}},U=Q(D,300),j=e=>{w.value=e,x.value=!1,z()},z=async()=>{if(w.value.trim())try{I.value=!0;const e={query:w.value.trim(),type:b.value,category:F.value.category||void 0,tags:M.value.map(e=>e.id),priceRange:F.value.priceMin&&F.value.priceMax?[F.value.priceMin,F.value.priceMax]:void 0,sortBy:F.value.sortBy,sortOrder:F.value.sortOrder,limit:20},a=await L.search(e);A.value=a,m("search",a),f.push({name:"SearchResults",query:{q:w.value,type:b.value,...F.value}})}catch(e){console.error("æœç´¢å¤±è´¥:",e)}finally{I.value=!1}},K=()=>{var e;w.value="",A.value=null,m("clear"),null==(e=S.value)||e.focus()};l(async()=>{var e;y.autoFocus&&(await n(),null==(e=S.value)||e.focus()),0===k.categories.length&&await k.loadCategories()}),r(w,()=>{w.value||(A.value=null)}),a({focus:()=>{var e;return null==(e=S.value)?void 0:e.focus()},clear:K,search:z});const J={props:y,emit:m,router:f,categoriesStore:k,searchInput:S,query:w,searchType:b,isFocused:_,isExpanded:T,showSuggestions:x,showAdvanced:C,isSearching:I,selectedIndex:q,suggestions:H,searchHistory:E,popularSearches:$,filters:F,selectedTags:M,tagQuery:O,availableTags:R,lastSearchResult:A,categories:B,allSuggestions:P,handleFocus:()=>{_.value=!0,T.value=!0,x.value=!0,m("focus"),D()},handleBlur:()=>{setTimeout(()=>{_.value=!1,x.value=!1,q.value=-1},200),m("blur")},handleInput:()=>{q.value=-1,U()},handleKeydown:e=>{var a;switch(e.key){case"ArrowDown":e.preventDefault(),q.value=Math.min(q.value+1,P.value.length-1);break;case"ArrowUp":e.preventDefault(),q.value=Math.max(q.value-1,-1);break;case"Enter":e.preventDefault(),q.value>=0?j(P.value[q.value].text):z();break;case"Escape":null==(a=S.value)||a.blur()}},loadSuggestions:D,debouncedLoadSuggestions:U,selectSuggestion:j,performSearch:z,clearSearch:K,clearHistory:()=>{L.clearSearchHistory(),E.value=[]},toggleAdvanced:()=>{C.value=!C.value,T.value=C.value},resetFilters:()=>{F.value={category:"",sortBy:"relevance",sortOrder:"desc",priceMin:null,priceMax:null},M.value=[]},applyFilters:()=>{w.value&&z()},searchTags:async()=>{O.value||(R.value=[])},addTag:e=>{M.value.find(a=>a.id===e.id)||M.value.push(e),O.value="",R.value=[]},removeTag:e=>{M.value=M.value.filter(a=>a.id!==e.id)},getSuggestionIcon:e=>{switch(e){case"category":return d;case"tag":return u;case"tool":case"product":return i;default:return c}},getSuggestionTypeText:e=>{switch(e){case"category":return"åˆ†ç±»";case"tag":return"æ ‡ç­¾";case"tool":return"å·¥å…·";case"product":return"äº§å“";default:return"æœç´¢"}},formatTime:e=>{const a=(new Date).getTime()-e.getTime(),t=Math.floor(a/6e4),s=Math.floor(a/36e5),o=Math.floor(a/864e5);return t<1?"åˆšåˆš":t<60?`${t}åˆ†é’Ÿå‰`:s<24?`${s}å°æ—¶å‰`:`${o}å¤©å‰`},get SearchIcon(){return h},get XIcon(){return v},get FilterIcon(){return p},get ClockIcon(){return g}};return Object.defineProperty(J,"__isScriptSetup",{enumerable:!1,value:!0}),J}}),X={class:"search-input-container"},N={class:"search-input-wrapper"},Y=["placeholder"],W={class:"search-actions"},Z={key:0,class:"suggestions-dropdown"},ee={key:0,class:"suggestions-section"},ae=["onClick","onMouseenter"],te={class:"suggestion-text"},se={class:"suggestion-type"},oe={key:1,class:"suggestions-section"},le=["onClick","onMouseenter"],ne={class:"suggestion-text"},re={class:"suggestion-meta"},ce={key:2,class:"suggestions-section"},ie={class:"popular-searches"},ue=["onClick"],de={key:0,class:"advanced-search-panel"},ge={class:"advanced-search-content"},pe={class:"advanced-row"},ve={class:"advanced-group"},he=["value"],ye={class:"advanced-group"},me={class:"advanced-group"},fe={key:0,class:"advanced-row"},ke={class:"advanced-group"},Se={class:"price-range"},we={class:"advanced-row"},be={class:"advanced-group full-width"},_e={class:"tags-input"},Te={class:"selected-tags"},xe=["onClick"],Ce={key:0,class:"tags-dropdown"},Ie=["onClick"],qe={key:1,class:"search-status"},He={key:2,class:"search-stats"};const Ee=j(J,[["render",function(e,a,t,s,o,l){return F(),y("div",{class:_(["enhanced-search-box",{"is-focused":s.isFocused,"is-expanded":s.isExpanded}])},[m("div",X,[m("div",N,[k(s.SearchIcon,{class:"search-icon"}),S(m("input",{ref:"searchInput","onUpdate:modelValue":a[0]||(a[0]=e=>s.query=e),type:"text",class:"search-input",placeholder:t.placeholder,onFocus:s.handleFocus,onBlur:s.handleBlur,onKeydown:s.handleKeydown,onInput:s.handleInput},null,40,Y),[[w,s.query]]),m("div",W,[S(m("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.searchType=e),class:"search-type-select"},a[8]||(a[8]=[m("option",{value:"all"},"å…¨éƒ¨",-1),m("option",{value:"tools"},"å·¥å…·",-1),m("option",{value:"products"},"äº§å“",-1),m("option",{value:"categories"},"åˆ†ç±»",-1)]),512),[[b,s.searchType]]),s.query?(F(),y("button",{key:0,onClick:s.clearSearch,class:"clear-button",type:"button"},[k(s.XIcon,{class:"icon"})])):f("",!0),m("button",{onClick:s.toggleAdvanced,class:_(["advanced-button",{active:s.showAdvanced}]),type:"button"},[k(s.FilterIcon,{class:"icon"})],2)])]),s.showSuggestions&&(s.suggestions.length>0||s.searchHistory.length>0)?(F(),y("div",Z,[s.suggestions.length>0?(F(),y("div",ee,[a[9]||(a[9]=m("div",{class:"suggestions-header"},"æœç´¢å»ºè®®",-1)),(F(!0),y(T,null,x(s.suggestions,(e,a)=>(F(),y("div",{key:`suggestion-${a}`,class:_(["suggestion-item",{active:s.selectedIndex===a}]),onClick:a=>s.selectSuggestion(e.text),onMouseenter:e=>s.selectedIndex=a},[(F(),C(I(s.getSuggestionIcon(e.type)),{class:"suggestion-icon"})),m("span",te,q(e.text),1),m("span",se,q(s.getSuggestionTypeText(e.type)),1)],42,ae))),128))])):f("",!0),s.searchHistory.length>0&&!s.query?(F(),y("div",oe,[m("div",{class:"suggestions-header"},[a[10]||(a[10]=m("span",null,"æœ€è¿‘æœç´¢",-1)),m("button",{onClick:s.clearHistory,class:"clear-history-button"}," æ¸…é™¤ ")]),(F(!0),y(T,null,x(s.searchHistory,(e,a)=>(F(),y("div",{key:`history-${e.id}`,class:_(["suggestion-item history-item",{active:s.selectedIndex===s.suggestions.length+a}]),onClick:a=>s.selectSuggestion(e.query),onMouseenter:e=>s.selectedIndex=s.suggestions.length+a},[k(s.ClockIcon,{class:"suggestion-icon"}),m("span",ne,q(e.query),1),m("span",re,q(s.formatTime(e.timestamp)),1)],42,le))),128))])):f("",!0),s.popularSearches.length>0&&!s.query?(F(),y("div",ce,[a[11]||(a[11]=m("div",{class:"suggestions-header"},"çƒ­é—¨æœç´¢",-1)),m("div",ie,[(F(!0),y(T,null,x(s.popularSearches,e=>(F(),y("button",{key:e,onClick:a=>s.selectSuggestion(e),class:"popular-search-tag"},q(e),9,ue))),128))])])):f("",!0)])):f("",!0)]),s.showAdvanced?(F(),y("div",de,[m("div",ge,[m("div",pe,[m("div",ve,[a[13]||(a[13]=m("label",{class:"advanced-label"},"åˆ†ç±»",-1)),S(m("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.filters.category=e),class:"advanced-select"},[a[12]||(a[12]=m("option",{value:""},"æ‰€æœ‰åˆ†ç±»",-1)),(F(!0),y(T,null,x(s.categories,e=>(F(),y("option",{key:e.id,value:e.id},q(e.name),9,he))),128))],512),[[b,s.filters.category]])]),m("div",ye,[a[15]||(a[15]=m("label",{class:"advanced-label"},"æ’åº",-1)),S(m("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>s.filters.sortBy=e),class:"advanced-select"},a[14]||(a[14]=[H('<option value="relevance" data-v-904d3a43>ç›¸å…³æ€§</option><option value="name" data-v-904d3a43>åç§°</option><option value="created_at" data-v-904d3a43>åˆ›å»ºæ—¶é—´</option><option value="click_count" data-v-904d3a43>çƒ­åº¦</option><option value="price" data-v-904d3a43>ä»·æ ¼</option>',5)]),512),[[b,s.filters.sortBy]])]),m("div",me,[a[17]||(a[17]=m("label",{class:"advanced-label"},"é¡ºåº",-1)),S(m("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>s.filters.sortOrder=e),class:"advanced-select"},a[16]||(a[16]=[m("option",{value:"desc"},"é™åº",-1),m("option",{value:"asc"},"å‡åº",-1)]),512),[[b,s.filters.sortOrder]])])]),"products"===s.searchType?(F(),y("div",fe,[m("div",ke,[a[19]||(a[19]=m("label",{class:"advanced-label"},"ä»·æ ¼èŒƒå›´",-1)),m("div",Se,[S(m("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>s.filters.priceMin=e),type:"number",placeholder:"æœ€ä½ä»·",class:"price-input",min:"0"},null,512),[[w,s.filters.priceMin,void 0,{number:!0}]]),a[18]||(a[18]=m("span",{class:"price-separator"},"-",-1)),S(m("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>s.filters.priceMax=e),type:"number",placeholder:"æœ€é«˜ä»·",class:"price-input",min:"0"},null,512),[[w,s.filters.priceMax,void 0,{number:!0}]])])])])):f("",!0),m("div",we,[m("div",be,[a[20]||(a[20]=m("label",{class:"advanced-label"},"æ ‡ç­¾",-1)),m("div",_e,[m("div",Te,[(F(!0),y(T,null,x(s.selectedTags,e=>(F(),y("span",{key:e.id,class:"selected-tag"},[E(q(e.name)+" ",1),m("button",{onClick:a=>s.removeTag(e),class:"remove-tag"},[k(s.XIcon,{class:"icon"})],8,xe)]))),128))]),S(m("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>s.tagQuery=e),type:"text",placeholder:"è¾“å…¥æ ‡ç­¾åç§°...",class:"tag-input",onInput:s.searchTags},null,544),[[w,s.tagQuery]]),s.availableTags.length>0?(F(),y("div",Ce,[(F(!0),y(T,null,x(s.availableTags,e=>(F(),y("div",{key:e.id,class:"tag-option",onClick:a=>s.addTag(e)},[m("span",{class:"tag-color",style:$({backgroundColor:e.color})},null,4),E(" "+q(e.name),1)],8,Ie))),128))])):f("",!0)])])]),m("div",{class:"advanced-actions"},[m("button",{onClick:s.resetFilters,class:"reset-button"},"é‡ç½®"),m("button",{onClick:s.applyFilters,class:"apply-button"},"åº”ç”¨ç­›é€‰")])])])):f("",!0),s.isSearching?(F(),y("div",qe,a[21]||(a[21]=[m("div",{class:"search-loading"},[m("div",{class:"loading-spinner"}),m("span",null,"æœç´¢ä¸­...")],-1)]))):f("",!0),s.lastSearchResult?(F(),y("div",He," æ‰¾åˆ° "+q(s.lastSearchResult.total)+" ä¸ªç»“æœï¼Œç”¨æ—¶ "+q(s.lastSearchResult.searchTime)+"ms ",1)):f("",!0)],2)}],["__scopeId","data-v-904d3a43"],["__file","/mnt/persist/workspace/src/components/search/EnhancedSearchBox.vue"]]),$e={class:"enhanced-home-view"},Fe={class:"hero-section"},Me={class:"container"},Oe={class:"hero-content"},Re={class:"search-section"},Ae={class:"main-content"},Be={class:"container"},Pe={class:"content-layout"},De={class:"sidebar"},Ue={class:"sidebar-section"},Ge={class:"nav-links"},Ve={class:"sidebar-section"},Qe={class:"category-filters"},je=["onClick"],ze={class:"tools-grid"},Ke=["onClick"],Le=["onClick"],Je={class:"tool-header"},Xe={class:"tool-icon"},Ne={class:"tool-title"},Ye={class:"tool-subtitle"},We={class:"tool-body"},Ze={class:"tool-description"},ea={class:"tool-tags"},aa={key:0,class:"tool-tag more"},ta={key:0,class:"empty-state"};const sa=j(t({__name:"EnhancedHomeView",setup(e,{expose:a}){a();const t=z(),n=V(),r=K(),c=G(),u=s(null),d=s(null),g=o(()=>n.categories),p=o(()=>{if(d.value)return d.value.items||[];let e=t.tools;return u.value&&(e=e.filter(e=>e.category_id===u.value)),e});l(async()=>{t.initialized||await t.initialize(),n.initialized||await n.initialize()});const v={toolsStore:t,categoriesStore:n,authStore:r,router:c,selectedCategory:u,searchResults:d,categories:g,displayTools:p,handleSearchResult:e=>{d.value=e},clearSearch:()=>{d.value=null},selectCategory:e=>{u.value=u.value===e?null:e},openTool:async e=>{await t.incrementClickCount(e.id),window.open(e.url,"_blank","noopener,noreferrer")},toggleFavorite:async e=>{r.isAuthenticated?await t.toggleFavorite(e.id):c.push("/auth/login")},clearFilters:()=>{d.value=null,u.value=null},get GridIcon(){return R},get StarIcon(){return O},get PackageIcon(){return i},get HeartIcon(){return M},EnhancedSearchBox:Ee};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),[["render",function(e,a,t,s,o,l){const n=A("router-link");return F(),y("div",$e,[m("header",Fe,[m("div",Me,[m("div",Oe,[a[0]||(a[0]=m("div",{class:"logo-section"},[m("div",{class:"logo-icon"},"ğŸš€"),m("h1",{class:"main-title"},"é«˜æ•ˆå·¥å…·å¯¼èˆªç«™")],-1)),a[1]||(a[1]=m("p",{class:"tagline"},"ç²¾å¿ƒæŒ‘é€‰çš„ä¼˜è´¨å·¥å…·ï¼Œè®©æ‚¨çš„å·¥ä½œæ•ˆç‡å€å¢",-1)),m("div",Re,[k(s.EnhancedSearchBox,{placeholder:"æœç´¢å·¥å…·ã€åˆ†ç±»æˆ–åŠŸèƒ½...","auto-focus":!1,onSearch:s.handleSearchResult,onClear:s.clearSearch})])])])]),m("main",Ae,[m("div",Be,[m("div",Pe,[m("aside",De,[m("div",Ue,[a[5]||(a[5]=m("h3",null,"å¯¼èˆª",-1)),m("nav",Ge,[k(n,{to:"/tools",class:"nav-link active"},{default:B(()=>[k(s.GridIcon,{class:"icon"}),a[2]||(a[2]=E(" å…¨éƒ¨å·¥å…· "))]),_:1,__:[2]}),k(n,{to:"/favorites",class:"nav-link"},{default:B(()=>[k(s.StarIcon,{class:"icon"}),a[3]||(a[3]=E(" æˆ‘çš„æ”¶è— "))]),_:1,__:[3]}),k(n,{to:"/products",class:"nav-link"},{default:B(()=>[k(s.PackageIcon,{class:"icon"}),a[4]||(a[4]=E(" æˆ‘çš„äº§å“ "))]),_:1,__:[4]})])]),m("div",Ve,[a[6]||(a[6]=m("h3",null,"åˆ†ç±»",-1)),m("div",Qe,[(F(!0),y(T,null,x(s.categories,e=>(F(),y("button",{key:e.id,class:_(["category-tag",{active:s.selectedCategory===e.id}]),onClick:a=>s.selectCategory(e.id)},q(e.name),11,je))),128))])])]),m("section",ze,[(F(!0),y(T,null,x(s.displayTools,(e,a)=>(F(),y("div",{key:e.id,class:"tool-card",style:$({"--index":a}),onClick:a=>s.openTool(e)},[m("button",{class:_(["favorite-btn",{favorited:e.isFavorite}]),onClick:P(a=>s.toggleFavorite(e),["stop"])},[k(s.HeartIcon,{class:"icon"})],10,Le),m("div",Je,[m("div",Xe,q(e.icon||"ğŸ”§"),1),m("h3",Ne,q(e.name),1),m("p",Ye,q(e.short_description||e.description.slice(0,50)+"..."),1)]),m("div",We,[m("p",Ze,q(e.description),1),m("div",ea,[(F(!0),y(T,null,x(e.tags.slice(0,3),e=>(F(),y("span",{key:e.id,class:"tool-tag"},q(e.name),1))),128)),e.tags.length>3?(F(),y("span",aa," +"+q(e.tags.length-3),1)):f("",!0)])])],12,Ke))),128)),0===s.displayTools.length?(F(),y("div",ta,[a[7]||(a[7]=m("div",{class:"empty-icon"},"ğŸ”",-1)),a[8]||(a[8]=m("h3",null,"æœªæ‰¾åˆ°ç›¸å…³å·¥å…·",-1)),a[9]||(a[9]=m("p",null,"å°è¯•ä½¿ç”¨å…¶ä»–å…³é”®è¯æœç´¢ï¼Œæˆ–æµè§ˆå…¶ä»–åˆ†ç±»",-1)),m("button",{class:"empty-action",onClick:s.clearFilters}," æ¸…é™¤æœç´¢æ¡ä»¶ ")])):f("",!0)])])])]),a[10]||(a[10]=m("footer",{class:"footer"},[m("div",{class:"container"},[m("p",null,"Â© 2024 é«˜æ•ˆå·¥å…·å¯¼èˆªç«™ | è®©æ‚¨çš„å·¥ä½œæ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆ")])],-1))])}],["__scopeId","data-v-ce11ff20"],["__file","/mnt/persist/workspace/src/views/EnhancedHomeView.vue"]]);export{sa as default};
