import{c as e,_ as a}from"./index-DfMIV_22.js";import{d as s,r as t,o as i,m as c,q as l,t as o,F as n,A as r,C as d,v as u,H as v,D as p,E as m,ai as y,aT as k,z as g,u as b,X as h,I as f,$ as C,_,aQ as A,K as w,B as S}from"./vendor-CnBwbdGX.js";const D={class:"favorites-view"},O={class:"favorites-tabs"},I=["onClick"],F={class:"tab-count"},P={class:"favorites-content"},j={key:0,class:"tab-panel"},$={key:0,class:"favorites-grid"},x={class:"item-header"},B={class:"item-icon"},T=["onClick"],V={class:"item-content"},q={class:"item-name"},z={class:"item-description"},E={class:"item-meta"},H={class:"category"},K={class:"clicks"},N={class:"item-actions"},Q=["onClick"],Y={key:1,class:"empty-state"},G={key:1,class:"tab-panel"},J={key:0,class:"favorites-grid"},L={class:"item-header"},M={class:"item-image"},R=["src","alt"],U=["onClick"],W={class:"item-content"},X={class:"item-name"},Z={class:"item-description"},ee={class:"item-price"},ae={class:"current-price"},se={key:0,class:"original-price"},te={class:"item-actions"},ie=["onClick"],ce=["onClick"],le={key:1,class:"empty-state"},oe={key:0,class:"loading-state"},ne=a(s({__name:"FavoritesView",setup(a){const s=e(),ne=t(!0),re=t("tools"),de=t([]),ue=t([]),ve=[{key:"tools",label:"å·¥å…·",icon:y},{key:"products",label:"äº§å“",icon:k}],pe=async(e,a)=>{try{"tool"===e?de.value=de.value.filter(e=>e.id!==a):ue.value=ue.value.filter(e=>e.id!==a)}catch(s){console.error("å–æ¶ˆæ”¶è—å¤±è´¥:",s)}};return i(()=>{(async()=>{try{ne.value=!0,await new Promise(e=>setTimeout(e,1e3)),de.value=[{id:"1",name:"VS Code",description:"å¼ºå¤§çš„ä»£ç ç¼–è¾‘å™¨",url:"https://code.visualstudio.com",icon:"ğŸ’»",category:{id:"1",name:"å¼€å‘å·¥å…·",icon:"ğŸ’»",color:"#0078d4",count:0,sortOrder:0,isActive:!0,createdAt:"",updatedAt:""},tags:[],isFavorite:!0,clickCount:150,isFeature:!0,status:"active",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),sortOrder:0}],ue.value=[{id:"1",name:"é«˜æ•ˆåŠå…¬å¥—ä»¶",description:"æå‡åŠå…¬æ•ˆç‡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ",shortDescription:"åŠå…¬æ•ˆç‡å·¥å…·",price:299,originalPrice:399,currency:"CNY",category:{id:"1",name:"åŠå…¬è½¯ä»¶",icon:"ğŸ“Š",color:"#0078d4",count:0,sortOrder:0,isActive:!0,createdAt:"",updatedAt:""},images:["/placeholder.jpg"],features:["æ–‡æ¡£å¤„ç†","é¡¹ç›®ç®¡ç†"],isFeatured:!0,isDigital:!0,status:"active",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"user1",sortOrder:0}]}catch(e){console.error("åŠ è½½æ”¶è—å¤±è´¥:",e)}finally{ne.value=!1}})()}),(e,a)=>{const t=_("router-link");return S(),c("div",D,[a[12]||(a[12]=l("div",{class:"favorites-header"},[l("h1",null,"æˆ‘çš„æ”¶è—"),l("p",null,"ç®¡ç†æ‚¨æ”¶è—çš„å·¥å…·å’Œäº§å“")],-1)),l("div",O,[(S(),c(n,null,r(ve,e=>{return l("button",{key:e.key,class:d(["tab",{active:re.value===e.key}]),onClick:a=>re.value=e.key},[(S(),u(p(e.icon),{class:"tab-icon"})),v(" "+m(e.label)+" ",1),l("span",F,m((a=e.key,"tools"===a?de.value.length:"products"===a?ue.value.length:0)),1)],10,I);var a}),64))]),l("div",P,["tools"===re.value?(S(),c("div",j,[de.value.length>0?(S(),c("div",$,[(S(!0),c(n,null,r(de.value,e=>(S(),c("div",{key:e.id,class:"favorite-item tool-item"},[l("div",x,[l("div",B,m(e.icon||"ğŸ”§"),1),l("button",{class:"remove-btn",onClick:a=>pe("tool",e.id)},[g(b(h),{class:"icon"})],8,T)]),l("div",V,[l("h3",q,m(e.name),1),l("p",z,m(e.description),1),l("div",E,[l("span",H,m(e.category.name),1),l("span",K,m(e.clickCount)+" æ¬¡è®¿é—®",1)])]),l("div",N,[l("button",{class:"action-btn primary",onClick:a=>(e=>{window.open(e.url,"_blank","noopener,noreferrer")})(e)},[g(b(f),{class:"icon"}),a[0]||(a[0]=v(" æ‰“å¼€å·¥å…· "))],8,Q)])]))),128))])):(S(),c("div",Y,[a[2]||(a[2]=l("div",{class:"empty-icon"},"ğŸ”§",-1)),a[3]||(a[3]=l("h3",null,"æš‚æ— æ”¶è—çš„å·¥å…·",-1)),a[4]||(a[4]=l("p",null,"å»å‘ç°ä¸€äº›æœ‰ç”¨çš„å·¥å…·å¹¶æ”¶è—å®ƒä»¬å§ï¼",-1)),g(t,{to:"/tools",class:"empty-action"},{default:C(()=>a[1]||(a[1]=[v("æµè§ˆå·¥å…·")])),_:1,__:[1]})]))])):o("",!0),"products"===re.value?(S(),c("div",G,[ue.value.length>0?(S(),c("div",J,[(S(!0),c(n,null,r(ue.value,e=>(S(),c("div",{key:e.id,class:"favorite-item product-item"},[l("div",L,[l("div",M,[l("img",{src:e.images[0]||"/placeholder.jpg",alt:e.name},null,8,R)]),l("button",{class:"remove-btn",onClick:a=>pe("product",e.id)},[g(b(h),{class:"icon"})],8,U)]),l("div",W,[l("h3",X,m(e.name),1),l("p",Z,m(e.shortDescription||e.description),1),l("div",ee,[l("span",ae,"Â¥"+m(e.price),1),e.originalPrice&&e.originalPrice>e.price?(S(),c("span",se," Â¥"+m(e.originalPrice),1)):o("",!0)])]),l("div",te,[l("button",{class:"action-btn secondary",onClick:a=>(e=>{s.push(`/product/${e.id}`)})(e)},[g(b(A),{class:"icon"}),a[5]||(a[5]=v(" æŸ¥çœ‹è¯¦æƒ… "))],8,ie),l("button",{class:"action-btn primary",onClick:a=>(e=>{s.push(`/payment?product=${e.id}`)})(e)},[g(b(w),{class:"icon"}),a[6]||(a[6]=v(" ç«‹å³è´­ä¹° "))],8,ce)])]))),128))])):(S(),c("div",le,[a[8]||(a[8]=l("div",{class:"empty-icon"},"ğŸ›ï¸",-1)),a[9]||(a[9]=l("h3",null,"æš‚æ— æ”¶è—çš„äº§å“",-1)),a[10]||(a[10]=l("p",null,"å»å‘ç°ä¸€äº›ä¼˜è´¨äº§å“å¹¶æ”¶è—å®ƒä»¬å§ï¼",-1)),g(t,{to:"/products",class:"empty-action"},{default:C(()=>a[7]||(a[7]=[v("æµè§ˆäº§å“")])),_:1,__:[7]})]))])):o("",!0)]),ne.value?(S(),c("div",oe,a[11]||(a[11]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"æ­£åœ¨åŠ è½½æ”¶è—...",-1)]))):o("",!0)])}}}),[["__scopeId","data-v-e6287a0c"]]);export{ne as default};
