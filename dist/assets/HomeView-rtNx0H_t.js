import{d as s,r as a,o as e,Z as t,m as l,q as n,H as c,u as o,y as i,$ as r,A as d,t as v,a2 as u,B as p,a3 as h,N as y,a6 as g,a5 as m,C as b,F as k,z as C,at as f,x as w,av as x,O as _,G as Q}from"./vendor-C-I1M3bb.js";import{c as S,_ as K}from"./index-B0BAN12T.js";const F={class:"fluent-app"},L={class:"app-header"},T={class:"header-content"},U={class:"header-left"},R=["title"],z={class:"header-center"},E={class:"search-container"},I={key:0,class:"search-shortcut"},j={class:"header-right"},q={class:"app-main"},B={class:"sidebar-content"},G={class:"category-nav"},H={class:"nav-section"},O={class:"nav-list"},V={class:"nav-count"},W={class:"nav-count"},$={class:"nav-section"},A={class:"nav-list"},D=["onClick"],N={class:"nav-icon"},Z={class:"nav-text"},J={class:"nav-count"},M={key:0,class:"hero-section"},P={class:"hero-content"},X={class:"hero-stats"},Y={class:"stat-item"},ss={class:"stat-number"},as={class:"stat-item"},es={class:"stat-number"},ts={class:"stat-item"},ls={class:"stat-number"},ns={class:"content-header"},cs={class:"content-title"},os={class:"content-count"},is={class:"content-actions"},rs={class:"view-options"},ds={class:"view-button active"},vs={key:1,class:"tools-grid"},us=["onClick"],ps={class:"card-header"},hs={class:"tool-icon"},ys=["onClick"],gs={class:"card-content"},ms={class:"tool-name"},bs={class:"tool-description"},ks={class:"tool-tags"},Cs={key:0,class:"tag more"},fs={class:"card-footer"},ws={class:"tool-stats"},xs={class:"stat"},_s={key:2,class:"empty-state"},Qs=K(s({__name:"HomeView",setup(s){const K=S(),Qs=a(null),Ss=a(!1),Ks=()=>{if("all"===K.selectedCategory)return"全部工具";if("favorites"===K.selectedCategory)return"我的收藏";const s=K.categories.find(s=>s.id===K.selectedCategory);return s?s.name:"未知分类"},Fs=()=>{console.log("侧边栏折叠状态切换:",!K.sidebarCollapsed),K.toggleSidebar()},Ls=()=>{K.searchQuery.trim()&&Ts()},Ts=()=>{const s=K.searchQuery.trim();if(s){const a=`https://www.google.com/search?q=${encodeURIComponent(s+" 工具")}`;window.open(a,"_blank","noopener,noreferrer")}},Us=()=>{K.setSelectedCategory("favorites")},Rs=()=>{window.open("/user/profile","_blank")},zs=()=>{window.open("/products","_blank")},Es=s=>{var a,e;(s.ctrlKey||s.metaKey)&&"k"===s.key&&(s.preventDefault(),null==(a=Qs.value)||a.focus()),"Escape"===s.key&&(null==(e=Qs.value)||e.blur(),K.setSearchQuery(""))};return e(async()=>{K.initialized||await K.initialize(),document.addEventListener("keydown",Es)}),t(()=>{document.removeEventListener("keydown",Es)}),(s,a)=>(Q(),l("div",F,[n("div",{tabindex:"-1",class:"app-container",onKeydown:Es},[n("header",L,[n("div",T,[n("div",U,[n("button",{class:c(["sidebar-toggle",{active:!o(K).sidebarCollapsed}]),onClick:Fs,title:o(K).sidebarCollapsed?"展开侧边栏":"折叠侧边栏"},[i(o(r),{class:"icon"})],10,R),a[6]||(a[6]=n("div",{class:"app-title"},[n("div",{class:"title-icon"},"🚀"),n("div",{class:"title-text"},[n("h1",null,"工具导航站"),n("span",null,"让工作更高效")])],-1))]),n("div",z,[n("div",E,[i(o(u),{class:"search-icon"}),d(n("input",{ref_key:"searchInput",ref:Qs,"onUpdate:modelValue":a[0]||(a[0]=s=>o(K).searchQuery=s),type:"text",placeholder:"搜索工具... (Ctrl+K)",class:"search-input",onFocus:a[1]||(a[1]=s=>Ss.value=!0),onBlur:a[2]||(a[2]=s=>Ss.value=!1),onKeydown:h(Ls,["enter"])},null,544),[[p,o(K).searchQuery]]),Ss.value||o(K).searchQuery?v("",!0):(Q(),l("div",I,a[7]||(a[7]=[n("kbd",null,"Ctrl",-1),y(" + "),n("kbd",null,"K",-1)]))),o(K).searchQuery.trim()?(Q(),l("button",{key:1,class:"external-search-btn",title:"在Google中搜索",onClick:Ts}," 🌐 ")):v("",!0)])]),n("div",j,[n("button",{class:c(["header-button",{active:o(K).showFavoritesOnly}]),onClick:Us},[i(o(g),{class:"icon"}),a[8]||(a[8]=n("span",null,"收藏",-1))],2),n("button",{class:"user-avatar",onClick:Rs},[i(o(m),{class:"icon"})])])])]),n("div",q,[n("aside",{class:c(["sidebar",{collapsed:o(K).sidebarCollapsed}])},[n("div",B,[n("nav",G,[n("div",H,[a[14]||(a[14]=n("h3",{class:"nav-title"},"导航",-1)),n("ul",O,[n("li",null,[n("button",{class:c(["nav-item",{active:"all"===o(K).selectedCategory}]),onClick:a[3]||(a[3]=s=>o(K).setSelectedCategory("all"))},[a[9]||(a[9]=n("div",{class:"nav-icon"},"🏠",-1)),a[10]||(a[10]=n("span",{class:"nav-text"},"全部工具",-1)),n("span",V,b(o(K).tools.length),1)],2)]),n("li",null,[n("button",{class:c(["nav-item",{active:"favorites"===o(K).selectedCategory}]),onClick:a[4]||(a[4]=s=>o(K).setSelectedCategory("favorites"))},[a[11]||(a[11]=n("div",{class:"nav-icon"},"⭐",-1)),a[12]||(a[12]=n("span",{class:"nav-text"},"我的收藏",-1)),n("span",W,b(o(K).favoriteTools.length),1)],2)]),n("li",null,[n("button",{class:"nav-item",onClick:zs},a[13]||(a[13]=[n("div",{class:"nav-icon"},"🛍️",-1),n("span",{class:"nav-text"},"产品展示",-1),n("span",{class:"nav-count"},"12",-1)]))])])]),n("div",$,[a[15]||(a[15]=n("h3",{class:"nav-title"},"分类",-1)),n("ul",A,[(Q(!0),l(k,null,C(o(K).categories,s=>(Q(),l("li",{key:s.id},[n("button",{class:c(["nav-item",{active:o(K).selectedCategory===s.id}]),onClick:a=>o(K).setSelectedCategory(s.id)},[n("div",N,b(s.icon),1),n("span",Z,b(s.name),1),n("span",J,b(s.count),1)],10,D)]))),128))])])])])],2),n("main",{class:c(["content",{"sidebar-collapsed":o(K).sidebarCollapsed}])},["all"===o(K).selectedCategory?(Q(),l("div",M,[n("div",P,[a[19]||(a[19]=n("h1",{class:"hero-title"},"发现优质工具",-1)),a[20]||(a[20]=n("p",{class:"hero-subtitle"},"精选高效工具，提升工作效率",-1)),n("div",X,[n("div",Y,[n("span",ss,b(o(K).tools.length),1),a[16]||(a[16]=n("span",{class:"stat-label"},"精选工具",-1))]),n("div",as,[n("span",es,b(o(K).categories.length),1),a[17]||(a[17]=n("span",{class:"stat-label"},"工具分类",-1))]),n("div",ts,[n("span",ls,b(o(K).favoriteTools.length),1),a[18]||(a[18]=n("span",{class:"stat-label"},"我的收藏",-1))])])])])):v("",!0),n("div",ns,[n("div",cs,[n("h2",null,b(Ks()),1),n("span",os,b(o(K).filteredTools.length)+" 个工具",1)]),n("div",is,[n("div",rs,[n("button",ds,[i(o(f),{class:"icon"})])])])]),o(K).filteredTools.length>0?(Q(),l("div",vs,[(Q(!0),l(k,null,C(o(K).filteredTools,s=>(Q(),l("div",{key:s.id,class:"tool-card",onClick:a=>(s=>{if(console.log("点击工具:",s.name,"URL:",s.url),!s.url||""===s.url.trim())return console.warn("工具URL为空:",s),void alert("该工具暂无可用链接");try{let a=s.url.trim();a.startsWith("http://")||a.startsWith("https://")||(a="https://"+a),K.incrementClickCount(s.id),window.open(a,"_blank","noopener,noreferrer")}catch(a){console.error("打开链接失败:",a),alert("无法打开该链接，请检查URL是否正确")}})(s)},[n("div",ps,[n("div",hs,b(s.icon),1),n("button",{class:c(["favorite-button",{active:s.isFavorite}]),onClick:w(a=>o(K).toggleFavorite(s.id),["stop"])},[i(o(g),{class:"icon"})],10,ys)]),n("div",gs,[n("h3",ms,b(s.name),1),n("p",bs,b(s.description),1),n("div",ks,[(Q(!0),l(k,null,C((s.tags||[]).slice(0,3),s=>(Q(),l("span",{key:s,class:"tag"},b(s),1))),128)),(s.tags||[]).length>3?(Q(),l("span",Cs," +"+b((s.tags||[]).length-3),1)):v("",!0)])]),n("div",fs,[n("div",ws,[n("span",xs,[i(o(x),{class:"stat-icon"}),y(" "+b(s.clickCount),1)])]),i(o(_),{class:"external-icon"})])],8,us))),128))])):(Q(),l("div",_s,[a[21]||(a[21]=n("div",{class:"empty-icon"},"🔍",-1)),a[22]||(a[22]=n("h3",null,"未找到相关工具",-1)),a[23]||(a[23]=n("p",null,"尝试使用其他关键词搜索，或浏览其他分类",-1)),n("button",{class:"empty-action",onClick:a[5]||(a[5]=s=>o(K).setSearchQuery(""))}," 清除搜索条件 ")])),a[24]||(a[24]=n("div",{class:"bottom-spacer"},null,-1))],2)])],32)]))}}),[["__scopeId","data-v-8956268f"]]);export{Qs as default};
