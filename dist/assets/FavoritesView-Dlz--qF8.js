import{d as e,r as t,o as a,av as s,aw as i,O as o,aq as c,V as n,X as r,a5 as l,t as d,v as u,x as v,F as p,B as m,J as y,y as g,Y as k,K as b,E as f,A as h,a6 as C,I as w}from"./vendor-BUZxw6e1.js";import{u as _,_ as I}from"./index-BxdVNC7e.js";const P={class:"favorites-view"},S={class:"favorites-tabs"},T=["onClick"],A={class:"tab-count"},F={class:"favorites-content"},O={key:0,class:"tab-panel"},D={key:0,class:"favorites-grid"},x={class:"item-header"},j={class:"item-icon"},E=["onClick"],V={class:"item-content"},X={class:"item-name"},B={class:"item-description"},L={class:"item-meta"},Y={class:"category"},$={class:"clicks"},q={class:"item-actions"},J=["onClick"],K={key:1,class:"empty-state"},N={key:1,class:"tab-panel"},z={key:0,class:"favorites-grid"},G={class:"item-header"},H={class:"item-image"},M=["src","alt"],Q=["onClick"],R={class:"item-content"},U={class:"item-name"},W={class:"item-description"},Z={class:"item-price"},ee={class:"current-price"},te={key:0,class:"original-price"},ae={class:"item-actions"},se=["onClick"],ie=["onClick"],oe={key:1,class:"empty-state"},ce={key:0,class:"loading-state"};const ne=I(e({__name:"FavoritesView",setup(e,{expose:l}){l();const d=_(),u=t(!0),v=t("tools"),p=t([]),m=t([]),y=[{key:"tools",label:"å·¥å…·",icon:s},{key:"products",label:"äº§å“",icon:i}],g=async()=>{try{u.value=!0,await new Promise(e=>setTimeout(e,1e3)),p.value=[{id:"1",name:"VS Code",description:"å¼ºå¤§çš„ä»£ç ç¼–è¾‘å™¨",url:"https://code.visualstudio.com",icon:"ğŸ’»",category:{id:"1",name:"å¼€å‘å·¥å…·",icon:"ğŸ’»",color:"#0078d4",count:0,sortOrder:0,isActive:!0,createdAt:"",updatedAt:""},tags:[],isFavorite:!0,clickCount:150,isFeature:!0,status:"active",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),sortOrder:0}],m.value=[{id:"1",name:"é«˜æ•ˆåŠå…¬å¥—ä»¶",description:"æå‡åŠå…¬æ•ˆç‡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ",shortDescription:"åŠå…¬æ•ˆç‡å·¥å…·",price:299,originalPrice:399,currency:"CNY",category:{id:"1",name:"åŠå…¬è½¯ä»¶",icon:"ğŸ“Š",color:"#0078d4",count:0,sortOrder:0,isActive:!0,createdAt:"",updatedAt:""},images:["/placeholder.jpg"],features:["æ–‡æ¡£å¤„ç†","é¡¹ç›®ç®¡ç†"],isFeatured:!0,isDigital:!0,status:"active",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"user1",sortOrder:0}]}catch(e){console.error("åŠ è½½æ”¶è—å¤±è´¥:",e)}finally{u.value=!1}};a(()=>{g()});const k={router:d,loading:u,activeTab:v,favoriteTools:p,favoriteProducts:m,tabs:y,getTabCount:e=>"tools"===e?p.value.length:"products"===e?m.value.length:0,loadFavorites:g,removeFavorite:async(e,t)=>{try{"tool"===e?p.value=p.value.filter(e=>e.id!==t):m.value=m.value.filter(e=>e.id!==t)}catch(a){console.error("å–æ¶ˆæ”¶è—å¤±è´¥:",a)}},openTool:e=>{window.open(e.url,"_blank","noopener,noreferrer")},viewProduct:e=>{d.push(`/product/${e.id}`)},buyProduct:e=>{d.push(`/payment?product=${e.id}`)},get XIcon(){return r},get ExternalLinkIcon(){return n},get EyeIcon(){return c},get ShoppingCartIcon(){return o}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),[["render",function(e,t,a,s,i,o){const c=l("router-link");return w(),d("div",P,[t[12]||(t[12]=u("div",{class:"favorites-header"},[u("h1",null,"æˆ‘çš„æ”¶è—"),u("p",null,"ç®¡ç†æ‚¨æ”¶è—çš„å·¥å…·å’Œäº§å“")],-1)),u("div",S,[(w(),d(p,null,m(s.tabs,e=>u("button",{key:e.key,class:y(["tab",{active:s.activeTab===e.key}]),onClick:t=>s.activeTab=e.key},[(w(),g(b(e.icon),{class:"tab-icon"})),k(" "+f(e.label)+" ",1),u("span",A,f(s.getTabCount(e.key)),1)],10,T)),64))]),u("div",F,["tools"===s.activeTab?(w(),d("div",O,[s.favoriteTools.length>0?(w(),d("div",D,[(w(!0),d(p,null,m(s.favoriteTools,e=>(w(),d("div",{key:e.id,class:"favorite-item tool-item"},[u("div",x,[u("div",j,f(e.icon||"ğŸ”§"),1),u("button",{class:"remove-btn",onClick:t=>s.removeFavorite("tool",e.id)},[h(s.XIcon,{class:"icon"})],8,E)]),u("div",V,[u("h3",X,f(e.name),1),u("p",B,f(e.description),1),u("div",L,[u("span",Y,f(e.category.name),1),u("span",$,f(e.clickCount)+" æ¬¡è®¿é—®",1)])]),u("div",q,[u("button",{class:"action-btn primary",onClick:t=>s.openTool(e)},[h(s.ExternalLinkIcon,{class:"icon"}),t[0]||(t[0]=k(" æ‰“å¼€å·¥å…· "))],8,J)])]))),128))])):(w(),d("div",K,[t[2]||(t[2]=u("div",{class:"empty-icon"},"ğŸ”§",-1)),t[3]||(t[3]=u("h3",null,"æš‚æ— æ”¶è—çš„å·¥å…·",-1)),t[4]||(t[4]=u("p",null,"å»å‘ç°ä¸€äº›æœ‰ç”¨çš„å·¥å…·å¹¶æ”¶è—å®ƒä»¬å§ï¼",-1)),h(c,{to:"/tools",class:"empty-action"},{default:C(()=>t[1]||(t[1]=[k("æµè§ˆå·¥å…·")])),_:1,__:[1]})]))])):v("",!0),"products"===s.activeTab?(w(),d("div",N,[s.favoriteProducts.length>0?(w(),d("div",z,[(w(!0),d(p,null,m(s.favoriteProducts,e=>(w(),d("div",{key:e.id,class:"favorite-item product-item"},[u("div",G,[u("div",H,[u("img",{src:e.images[0]||"/placeholder.jpg",alt:e.name},null,8,M)]),u("button",{class:"remove-btn",onClick:t=>s.removeFavorite("product",e.id)},[h(s.XIcon,{class:"icon"})],8,Q)]),u("div",R,[u("h3",U,f(e.name),1),u("p",W,f(e.shortDescription||e.description),1),u("div",Z,[u("span",ee,"Â¥"+f(e.price),1),e.originalPrice&&e.originalPrice>e.price?(w(),d("span",te," Â¥"+f(e.originalPrice),1)):v("",!0)])]),u("div",ae,[u("button",{class:"action-btn secondary",onClick:t=>s.viewProduct(e)},[h(s.EyeIcon,{class:"icon"}),t[5]||(t[5]=k(" æŸ¥çœ‹è¯¦æƒ… "))],8,se),u("button",{class:"action-btn primary",onClick:t=>s.buyProduct(e)},[h(s.ShoppingCartIcon,{class:"icon"}),t[6]||(t[6]=k(" ç«‹å³è´­ä¹° "))],8,ie)])]))),128))])):(w(),d("div",oe,[t[8]||(t[8]=u("div",{class:"empty-icon"},"ğŸ›ï¸",-1)),t[9]||(t[9]=u("h3",null,"æš‚æ— æ”¶è—çš„äº§å“",-1)),t[10]||(t[10]=u("p",null,"å»å‘ç°ä¸€äº›ä¼˜è´¨äº§å“å¹¶æ”¶è—å®ƒä»¬å§ï¼",-1)),h(c,{to:"/products",class:"empty-action"},{default:C(()=>t[7]||(t[7]=[k("æµè§ˆäº§å“")])),_:1,__:[7]})]))])):v("",!0)]),s.loading?(w(),d("div",ce,t[11]||(t[11]=[u("div",{class:"loading-spinner"},null,-1),u("p",null,"æ­£åœ¨åŠ è½½æ”¶è—...",-1)]))):v("",!0)])}],["__scopeId","data-v-c7396a28"],["__file","/mnt/persist/workspace/src/views/user/FavoritesView.vue"]]);export{ne as default};
