import{W as a,X as e,E as s,g as t,c as i,_ as c}from"./index-DnVHVpUO.js";import{S as o}from"./shopping-bag-ByQx4oHm.js";import{E as l}from"./eye-DQ_sdAJN.js";import{d as n,r,o as d,m as u,q as p,t as v,F as m,z as y,B as _,v as g,E as k,C as b,D as f,y as h,u as C,M as w,L as S,A as j}from"./vendor-dtMHlISa.js";const D={class:"favorites-view"},I={class:"favorites-tabs"},O=["onClick"],E={class:"tab-count"},x={class:"favorites-content"},F={key:0,class:"tab-panel"},V={key:0,class:"favorites-grid"},$={class:"item-header"},q={class:"item-icon"},z=["onClick"],A={class:"item-content"},B={class:"item-name"},L={class:"item-description"},M={class:"item-meta"},N={class:"category"},P={class:"clicks"},Q={class:"item-actions"},T=["onClick"],W={key:1,class:"empty-state"},Y={key:1,class:"tab-panel"},G={key:0,class:"favorites-grid"},H={class:"item-header"},J={class:"item-image"},K=["src","alt"],R=["onClick"],U={class:"item-content"},X={class:"item-name"},Z={class:"item-description"},aa={class:"item-price"},ea={class:"current-price"},sa={key:0,class:"original-price"},ta={class:"item-actions"},ia=["onClick"],ca=["onClick"],oa={key:1,class:"empty-state"},la={key:0,class:"loading-state"},na=c(n({__name:"FavoritesView",setup(c){const n=i(),na=r(!0),ra=r("tools"),da=r([]),ua=r([]),pa=[{key:"tools",label:"工具",icon:a},{key:"products",label:"产品",icon:o}],removeFavorite=async(a,e)=>{try{"tool"===a?da.value=da.value.filter(a=>a.id!==e):ua.value=ua.value.filter(a=>a.id!==e)}catch(s){console.error("取消收藏失败:",s)}};return d(()=>{(async()=>{try{na.value=!0,await new Promise(a=>setTimeout(a,1e3)),da.value=[{id:"1",name:"VS Code",description:"强大的代码编辑器",url:"https://code.visualstudio.com",icon:"💻",category_id:"1",category:{id:"1",name:"开发工具",icon:"💻",color:"#0078d4",count:0,sort_order:0,is_active:!0,created_at:"",updated_at:""},tags:[],is_favorite:!0,click_count:150,is_featured:!0,status:"active",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),sort_order:0}],ua.value=[{id:"1",name:"高效办公套件",description:"提升办公效率的完整解决方案",short_description:"办公效率工具",price:299,original_price:399,currency:"CNY",category_id:"1",category:{id:"1",name:"办公软件",icon:"📊",color:"#0078d4",count:0,sort_order:0,is_active:!0,created_at:"",updated_at:""},images:["/placeholder.jpg"],features:["文档处理","项目管理"],is_featured:!0,is_digital:!0,status:"active",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),created_by:"user1",sort_order:0}]}catch(a){console.error("加载收藏失败:",a)}finally{na.value=!1}})()}),(a,i)=>{const c=S("router-link");return j(),u("div",D,[i[12]||(i[12]=p("div",{class:"favorites-header"},[p("h1",null,"我的收藏"),p("p",null,"管理您收藏的工具和产品")],-1)),p("div",I,[(j(),u(m,null,y(pa,a=>{return p("button",{key:a.key,class:_(["tab",{active:ra.value===a.key}]),onClick:e=>ra.value=a.key},[(j(),g(b(a.icon),{class:"tab-icon"})),k(" "+f(a.label)+" ",1),p("span",E,f((e=a.key,"tools"===e?da.value.length:"products"===e?ua.value.length:0)),1)],10,O);var e}),64))]),p("div",x,["tools"===ra.value?(j(),u("div",F,[da.value.length>0?(j(),u("div",V,[(j(!0),u(m,null,y(da.value,a=>(j(),u("div",{key:a.id,class:"favorite-item tool-item"},[p("div",$,[p("div",q,f(a.icon||"🔧"),1),p("button",{class:"remove-btn",onClick:e=>removeFavorite("tool",a.id)},[h(C(e),{class:"icon"})],8,z)]),p("div",A,[p("h3",B,f(a.name),1),p("p",L,f(a.description),1),p("div",M,[p("span",N,f(a.category.name),1),p("span",P,f(a.click_count)+" 次访问",1)])]),p("div",Q,[p("button",{class:"action-btn primary",onClick:e=>(a=>{window.open(a.url,"_blank","noopener,noreferrer")})(a)},[h(C(s),{class:"icon"}),i[0]||(i[0]=k(" 打开工具 "))],8,T)])]))),128))])):(j(),u("div",W,[i[2]||(i[2]=p("div",{class:"empty-icon"},"🔧",-1)),i[3]||(i[3]=p("h3",null,"暂无收藏的工具",-1)),i[4]||(i[4]=p("p",null,"去发现一些有用的工具并收藏它们吧！",-1)),h(c,{to:"/tools",class:"empty-action"},{default:w(()=>i[1]||(i[1]=[k("浏览工具")])),_:1,__:[1]})]))])):v("",!0),"products"===ra.value?(j(),u("div",Y,[ua.value.length>0?(j(),u("div",G,[(j(!0),u(m,null,y(ua.value,a=>(j(),u("div",{key:a.id,class:"favorite-item product-item"},[p("div",H,[p("div",J,[p("img",{src:a.images[0]||"/placeholder.jpg",alt:a.name},null,8,K)]),p("button",{class:"remove-btn",onClick:e=>removeFavorite("product",a.id)},[h(C(e),{class:"icon"})],8,R)]),p("div",U,[p("h3",X,f(a.name),1),p("p",Z,f(a.short_description||a.description),1),p("div",aa,[p("span",ea,"¥"+f(a.price),1),a.original_price&&a.original_price>a.price?(j(),u("span",sa," ¥"+f(a.original_price),1)):v("",!0)])]),p("div",ta,[p("button",{class:"action-btn secondary",onClick:e=>(a=>{n.push(`/product/${a.id}`)})(a)},[h(C(l),{class:"icon"}),i[5]||(i[5]=k(" 查看详情 "))],8,ia),p("button",{class:"action-btn primary",onClick:e=>(a=>{n.push(`/payment?product=${a.id}`)})(a)},[h(C(t),{class:"icon"}),i[6]||(i[6]=k(" 立即购买 "))],8,ca)])]))),128))])):(j(),u("div",oa,[i[8]||(i[8]=p("div",{class:"empty-icon"},"🛍️",-1)),i[9]||(i[9]=p("h3",null,"暂无收藏的产品",-1)),i[10]||(i[10]=p("p",null,"去发现一些优质产品并收藏它们吧！",-1)),h(c,{to:"/products",class:"empty-action"},{default:w(()=>i[7]||(i[7]=[k("浏览产品")])),_:1,__:[7]})]))])):v("",!0)]),na.value?(j(),u("div",la,i[11]||(i[11]=[p("div",{class:"loading-spinner"},null,-1),p("p",null,"正在加载收藏...",-1)]))):v("",!0)])}}}),[["__scopeId","data-v-c1a92ce4"]]);export{na as default};
//# sourceMappingURL=FavoritesView-DDszmKCR.js.map
