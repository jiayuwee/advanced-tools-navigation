const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BZH0TPyE.js","./vendor-B_bmgS9f.js","./index-DZVu4RjJ.css"])))=>i.map(i=>d[i]);
import{g as a,d as s,c as e,o as t,_ as i}from"./index-BZH0TPyE.js";import{A as l}from"./arrow-left-D0xiuG_c.js";import{E as o}from"./eye-BPZ8_xE4.js";import{H as c}from"./heart-DH3BfX78.js";import{d as r,r as n,o as u,m as d,q as p,y as v,E as m,u as g,D as h,t as f,F as y,z as b,B as k,A as w}from"./vendor-B_bmgS9f.js";const _={class:"product-detail-view"},A={class:"container"},P={class:"back-section"},j={key:0,class:"product-detail"},C={class:"product-gallery"},E={class:"main-image"},I=["src","alt"],q={class:"product-info"},x={class:"product-header"},D={class:"product-title"},S={class:"product-price"},L={class:"current-price"},T={key:0,class:"original-price"},U={class:"product-description"},V={class:"product-tags"},z={class:"tags-list"},B={class:"product-actions"},F={key:1,class:"loading-state"},H={key:2,class:"error-state"},M=i(r({__name:"ProductDetailView",setup(i){const r=s(),M=e(),O=n(null),Q=n(!0),R=n(!1),$=[{id:1,name:"高效办公套件",description:"提升办公效率的完整解决方案，包含文档处理、项目管理、时间管理、团队协作等多个模块。支持多平台同步，让您随时随地高效办公。",price:299,originalPrice:399,image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop",category:"office",tags:["办公","效率","文档","项目管理","团队协作"]},{id:2,name:"设计师工具包",description:"专业设计师必备工具集合，包含UI设计、图标制作、原型设计、色彩搭配等功能。提供丰富的设计素材和模板，助力创意实现。",price:199,image:"https://images.unsplash.com/photo-1558655146-9f40138edfeb?w=800&h=600&fit=crop",category:"design",tags:["设计","UI","图标","创意","原型"]},{id:3,name:"开发者助手",description:"程序员开发必备工具，代码编辑、调试、部署一站式解决。支持多种编程语言，集成版本控制，提供智能代码补全和错误检测。",price:399,originalPrice:499,image:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=800&h=600&fit=crop",category:"development",tags:["开发","编程","调试","部署","版本控制"]}],G=()=>{window.history.length>1?M.go(-1):M.push("/products")},J=async()=>{if(O.value)try{console.log("购买产品:",O.value.name);const{useAuthStore:a}=await t(async()=>{const{useAuthStore:a}=await import("./index-BZH0TPyE.js").then(a=>a.w);return{useAuthStore:a}},__vite__mapDeps([0,1,2]),import.meta.url);if(!a().isAuthenticated)return void M.push({name:"Login",query:{redirect:`/product/${O.value.id}`}});M.push({path:"/payment",query:{product:O.value.id}})}catch(a){console.error("购买流程错误:",a),alert("购买失败，请稍后重试")}},K=()=>{O.value&&console.log("预览产品:",O.value.name)},N=()=>{R.value=!R.value,console.log(R.value?"已添加到收藏":"已取消收藏")};return u(()=>{(()=>{const a=parseInt(r.params.id);setTimeout(()=>{const s=$.find(s=>s.id===a);s&&(O.value=s,R.value=Math.random()>.5),Q.value=!1},300)})()}),(s,e)=>(w(),d("div",_,[p("div",A,[p("div",P,[p("button",{class:"back-btn",onClick:G},[v(g(l),{class:"icon"}),e[0]||(e[0]=m(" 返回产品列表 "))])]),O.value?(w(),d("div",j,[p("div",C,[p("div",E,[p("img",{src:O.value.image,alt:O.value.name},null,8,I)])]),p("div",q,[p("div",x,[p("h1",D,h(O.value.name),1),p("div",S,[p("span",L,"¥"+h(O.value.price),1),O.value.originalPrice?(w(),d("span",T," ¥"+h(O.value.originalPrice),1)):f("",!0)])]),p("div",U,[e[1]||(e[1]=p("h3",null,"产品描述",-1)),p("p",null,h(O.value.description),1)]),p("div",V,[e[2]||(e[2]=p("h3",null,"标签",-1)),p("div",z,[(w(!0),d(y,null,b(O.value.tags,a=>(w(),d("span",{key:a,class:"tag"},h(a),1))),128))])]),p("div",B,[p("button",{class:"buy-btn",onClick:J},[v(g(a),{class:"icon"}),e[3]||(e[3]=m(" 立即购买 "))]),p("button",{class:"demo-btn",onClick:K},[v(g(o),{class:"icon"}),e[4]||(e[4]=m(" 在线预览 "))]),p("button",{class:"favorite-btn",onClick:N},[v(g(c),{class:k(["icon",{filled:R.value}])},null,8,["class"]),m(" "+h(R.value?"已收藏":"收藏"),1)])])])])):Q.value?(w(),d("div",F,e[5]||(e[5]=[p("div",{class:"loading-spinner"},null,-1),p("p",null,"加载中...",-1)]))):(w(),d("div",H,[e[6]||(e[6]=p("div",{class:"error-icon"},"❌",-1)),e[7]||(e[7]=p("h3",null,"产品未找到",-1)),e[8]||(e[8]=p("p",null,"抱歉，您访问的产品不存在或已下架",-1)),p("button",{class:"error-action",onClick:G},"返回产品列表")]))])]))}}),[["__scopeId","data-v-84e53f2a"]]);export{M as default};
