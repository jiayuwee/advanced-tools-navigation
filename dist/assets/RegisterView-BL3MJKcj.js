import{d as s,r as e,c as a,ay as r,aq as l,a5 as o,t,v as d,x as i,C as n,D as u,az as c,y as m,L as p,J as f,E as w,Y as g,H as h,z as v,A as b,a6 as y,I as k}from"./vendor-BUZxw6e1.js";import{u as x,_ as P}from"./index-BxdVNC7e.js";const _={class:"register-view"},T={class:"form-group"},V=["disabled"],S={class:"form-group"},E=["disabled"],I={class:"form-group"},q={class:"password-input"},N=["type","disabled"],U={class:"password-strength"},z={class:"strength-bar"},R={class:"strength-text"},j={class:"form-group"},A=["disabled"],O={key:0,class:"error-hint"},C={class:"form-group"},F={class:"checkbox-label"},Z=["disabled"],D={key:0,class:"loading-spinner"},H={key:0,class:"error-message"},J={class:"register-footer"};const L=P(s({__name:"RegisterView",setup(s,{expose:o}){o();const t=x(),d=e(!1),i=e(null),n=e(!1),u=e({fullName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),c=a(()=>{const s=u.value.password;if(!s)return{class:"",width:"0%",text:""};let e=0;return s.length>=8&&e++,/[a-z]/.test(s)&&e++,/[A-Z]/.test(s)&&e++,/[0-9]/.test(s)&&e++,/[^A-Za-z0-9]/.test(s)&&e++,e<2?{class:"weak",width:"20%",text:"弱"}:e<3?{class:"fair",width:"40%",text:"一般"}:e<4?{class:"good",width:"60%",text:"良好"}:e<5?{class:"strong",width:"80%",text:"强"}:{class:"very-strong",width:"100%",text:"很强"}}),m=a(()=>u.value.email&&u.value.password&&u.value.password===u.value.confirmPassword&&u.value.agreeToTerms&&u.value.password.length>=8),p={router:t,loading:d,error:i,showPassword:n,form:u,passwordStrength:c,isFormValid:m,handleRegister:async()=>{try{d.value=!0,i.value=null,await new Promise(s=>setTimeout(s,1500)),console.log("注册成功:",u.value.email),t.push("/auth/login")}catch(s){i.value=s instanceof Error?s.message:"注册失败，请重试"}finally{d.value=!1}},get EyeIcon(){return l},get EyeOffIcon(){return r}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),[["render",function(s,e,a,r,l,x){const P=o("router-link");return k(),t("div",_,[e[17]||(e[17]=d("div",{class:"register-header"},[d("h1",null,"注册"),d("p",null,"创建您的账户，开始使用工具导航站")],-1)),d("form",{class:"register-form",onSubmit:v(r.handleRegister,["prevent"])},[d("div",T,[e[6]||(e[6]=d("label",{for:"fullName"},"姓名",-1)),n(d("input",{id:"fullName","onUpdate:modelValue":e[0]||(e[0]=s=>r.form.fullName=s),type:"text",placeholder:"请输入您的姓名",disabled:r.loading},null,8,V),[[u,r.form.fullName]])]),d("div",S,[e[7]||(e[7]=d("label",{for:"email"},"邮箱地址 *",-1)),n(d("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=s=>r.form.email=s),type:"email",required:"",placeholder:"请输入您的邮箱地址",disabled:r.loading},null,8,E),[[u,r.form.email]])]),d("div",I,[e[8]||(e[8]=d("label",{for:"password"},"密码 *",-1)),d("div",q,[n(d("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=s=>r.form.password=s),type:r.showPassword?"text":"password",required:"",placeholder:"请输入密码（至少8位）",disabled:r.loading},null,8,N),[[c,r.form.password]]),d("button",{type:"button",class:"password-toggle",onClick:e[3]||(e[3]=s=>r.showPassword=!r.showPassword)},[r.showPassword?(k(),m(r.EyeOffIcon,{key:1,class:"icon"})):(k(),m(r.EyeIcon,{key:0,class:"icon"}))])]),d("div",U,[d("div",z,[d("div",{class:f(["strength-fill",r.passwordStrength.class]),style:p({width:r.passwordStrength.width})},null,6)]),d("span",R,w(r.passwordStrength.text),1)])]),d("div",j,[e[9]||(e[9]=d("label",{for:"confirmPassword"},"确认密码 *",-1)),n(d("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=s=>r.form.confirmPassword=s),type:"password",required:"",placeholder:"请再次输入密码",disabled:r.loading},null,8,A),[[u,r.form.confirmPassword]]),r.form.confirmPassword&&r.form.password!==r.form.confirmPassword?(k(),t("div",O," 密码不匹配 ")):i("",!0)]),d("div",C,[d("label",F,[n(d("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>r.form.agreeToTerms=s),type:"checkbox",required:""},null,512),[[h,r.form.agreeToTerms]]),e[10]||(e[10]=d("span",{class:"checkmark"},null,-1)),e[11]||(e[11]=g(" 我已阅读并同意 ")),e[12]||(e[12]=d("a",{href:"#",class:"terms-link"},"服务条款",-1)),e[13]||(e[13]=g(" 和 ")),e[14]||(e[14]=d("a",{href:"#",class:"terms-link"},"隐私政策",-1))])]),d("button",{type:"submit",class:"register-btn",disabled:r.loading||!r.isFormValid},[r.loading?(k(),t("div",D)):i("",!0),d("span",null,w(r.loading?"注册中...":"注册"),1)],8,Z),r.error?(k(),t("div",H,w(r.error),1)):i("",!0)],32),d("div",J,[d("p",null,[e[16]||(e[16]=g(" 已有账户？ ")),b(P,{to:"/auth/login",class:"login-link"},{default:y(()=>e[15]||(e[15]=[g("立即登录")])),_:1,__:[15]})])])])}],["__scopeId","data-v-1ca25142"],["__file","/mnt/persist/workspace/src/views/auth/RegisterView.vue"]]);export{L as default};
