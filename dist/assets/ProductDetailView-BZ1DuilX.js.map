{"version":3,"mappings":"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","names":["route","useRoute","router","useRouter","product","ref","loading","isFavorite","mockProducts","id","name","description","price","originalPrice","image","category","tags","goBack","window","history","length","go","push","buyProduct","async","value","console","log","useAuthStore","__vitePreload","import","then","n","w","isAuthenticated","query","redirect","path","error","alert","viewDemo","toggleFavorite","onMounted","productId","parseInt","params","setTimeout","foundProduct","find","p","Math","random","loadProduct","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","class","onClick","_createVNode","_unref","ArrowLeftIcon","_hoisted_4","_hoisted_5","_hoisted_6","src","alt","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_cache","_hoisted_15","_hoisted_16","_Fragment","_renderList","tag","key","_hoisted_17","ShoppingCartIcon","EyeIcon","HeartIcon","_normalizeClass","filled","_createTextVNode","_hoisted_18","_hoisted_19"],"ignoreList":[],"sources":["../../src/views/ProductDetailView.vue"],"sourcesContent":["<template>\r\n  <div class=\"product-detail-view\">\r\n    <div class=\"container\">\r\n      <!-- 返回按钮 -->\r\n      <div class=\"back-section\">\r\n        <button class=\"back-btn\" @click=\"goBack\">\r\n          <ArrowLeftIcon class=\"icon\" />\r\n          返回产品列表\r\n        </button>\r\n      </div>\r\n\r\n      <!-- 产品详情 -->\r\n      <div v-if=\"product\" class=\"product-detail\">\r\n        <div class=\"product-gallery\">\r\n          <div class=\"main-image\">\r\n            <img :src=\"product.image\" :alt=\"product.name\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"product-info\">\r\n          <div class=\"product-header\">\r\n            <h1 class=\"product-title\">{{ product.name }}</h1>\r\n            <div class=\"product-price\">\r\n              <span class=\"current-price\">¥{{ product.price }}</span>\r\n              <span v-if=\"product.originalPrice\" class=\"original-price\">\r\n                ¥{{ product.originalPrice }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"product-description\">\r\n            <h3>产品描述</h3>\r\n            <p>{{ product.description }}</p>\r\n          </div>\r\n\r\n          <div class=\"product-tags\">\r\n            <h3>标签</h3>\r\n            <div class=\"tags-list\">\r\n              <span v-for=\"tag in product.tags\" :key=\"tag\" class=\"tag\">\r\n                {{ tag }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"product-actions\">\r\n            <button class=\"buy-btn\" @click=\"buyProduct\">\r\n              <ShoppingCartIcon class=\"icon\" />\r\n              立即购买\r\n            </button>\r\n            <button class=\"demo-btn\" @click=\"viewDemo\">\r\n              <EyeIcon class=\"icon\" />\r\n              在线预览\r\n            </button>\r\n            <button class=\"favorite-btn\" @click=\"toggleFavorite\">\r\n              <HeartIcon class=\"icon\" :class=\"{ filled: isFavorite }\" />\r\n              {{ isFavorite ? \"已收藏\" : \"收藏\" }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 加载状态 -->\r\n      <div v-else-if=\"loading\" class=\"loading-state\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <p>加载中...</p>\r\n      </div>\r\n\r\n      <!-- 错误状态 -->\r\n      <div v-else class=\"error-state\">\r\n        <div class=\"error-icon\">❌</div>\r\n        <h3>产品未找到</h3>\r\n        <p>抱歉，您访问的产品不存在或已下架</p>\r\n        <button class=\"error-action\" @click=\"goBack\">返回产品列表</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport {\r\n  ArrowLeftIcon,\r\n  ShoppingCartIcon,\r\n  EyeIcon,\r\n  HeartIcon,\r\n} from \"lucide-vue-next\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\n// 响应式状态\r\nconst product = ref<any>(null);\r\nconst loading = ref(true);\r\nconst isFavorite = ref(false);\r\n\r\n// 模拟产品数据\r\nconst mockProducts = [\r\n  {\r\n    id: 1,\r\n    name: \"高效办公套件\",\r\n    description:\r\n      \"提升办公效率的完整解决方案，包含文档处理、项目管理、时间管理、团队协作等多个模块。支持多平台同步，让您随时随地高效办公。\",\r\n    price: 299,\r\n    originalPrice: 399,\r\n    image:\r\n      \"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop\",\r\n    category: \"office\",\r\n    tags: [\"办公\", \"效率\", \"文档\", \"项目管理\", \"团队协作\"],\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"设计师工具包\",\r\n    description:\r\n      \"专业设计师必备工具集合，包含UI设计、图标制作、原型设计、色彩搭配等功能。提供丰富的设计素材和模板，助力创意实现。\",\r\n    price: 199,\r\n    image:\r\n      \"https://images.unsplash.com/photo-1558655146-9f40138edfeb?w=800&h=600&fit=crop\",\r\n    category: \"design\",\r\n    tags: [\"设计\", \"UI\", \"图标\", \"创意\", \"原型\"],\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"开发者助手\",\r\n    description:\r\n      \"程序员开发必备工具，代码编辑、调试、部署一站式解决。支持多种编程语言，集成版本控制，提供智能代码补全和错误检测。\",\r\n    price: 399,\r\n    originalPrice: 499,\r\n    image:\r\n      \"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=800&h=600&fit=crop\",\r\n    category: \"development\",\r\n    tags: [\"开发\", \"编程\", \"调试\", \"部署\", \"版本控制\"],\r\n  },\r\n];\r\n\r\n// 方法\r\nconst loadProduct = () => {\r\n  const productId = parseInt(route.params.id as string);\r\n\r\n  // 模拟API调用\r\n  setTimeout(() => {\r\n    const foundProduct = mockProducts.find((p) => p.id === productId);\r\n    if (foundProduct) {\r\n      product.value = foundProduct;\r\n      // 模拟检查收藏状态\r\n      isFavorite.value = Math.random() > 0.5;\r\n    }\r\n    loading.value = false;\r\n  }, 300); // 优化：减少延迟提升用户体验\r\n};\r\n\r\nconst goBack = () => {\r\n  // 优先使用浏览器历史记录返回\r\n  if (window.history.length > 1) {\r\n    router.go(-1);\r\n  } else {\r\n    // 如果没有历史记录，跳转到产品列表\r\n    router.push(\"/products\");\r\n  }\r\n};\r\n\r\nconst buyProduct = async () => {\r\n  if (!product.value) return;\r\n\r\n  try {\r\n    console.log(\"购买产品:\", product.value.name);\r\n\r\n    // 检查用户登录状态\r\n    const { useAuthStore } = await import(\"@/stores/auth\");\r\n    const authStore = useAuthStore();\r\n\r\n    if (!authStore.isAuthenticated) {\r\n      // 未登录，跳转到登录页面\r\n      router.push({\r\n        name: \"Login\",\r\n        query: { redirect: `/product/${product.value.id}` },\r\n      });\r\n      return;\r\n    }\r\n\r\n    // 已登录，跳转到支付页面\r\n    router.push({\r\n      path: \"/payment\",\r\n      query: {\r\n        product: product.value.id,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(\"购买流程错误:\", error);\r\n    alert(\"购买失败，请稍后重试\");\r\n  }\r\n};\r\n\r\nconst viewDemo = () => {\r\n  if (product.value) {\r\n    console.log(\"预览产品:\", product.value.name);\r\n    // TODO: 实现预览逻辑\r\n  }\r\n};\r\n\r\nconst toggleFavorite = () => {\r\n  isFavorite.value = !isFavorite.value;\r\n  console.log(isFavorite.value ? \"已添加到收藏\" : \"已取消收藏\");\r\n  // TODO: 实现收藏逻辑\r\n};\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  loadProduct();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.product-detail-view {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 2rem;\r\n}\r\n\r\n.container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n/* 返回按钮 */\r\n.back-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.back-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 0.75rem 1.5rem;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 0.5rem;\r\n  color: white;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.back-btn:hover {\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-color: rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n/* 产品详情 */\r\n.product-detail {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 3rem;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 1rem;\r\n  padding: 2rem;\r\n  box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.product-gallery {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.main-image {\r\n  width: 100%;\r\n  height: 400px;\r\n  border-radius: 0.75rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.main-image img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.product-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.product-header {\r\n  border-bottom: 1px solid #e1dfdd;\r\n  padding-bottom: 1.5rem;\r\n}\r\n\r\n.product-title {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #323130;\r\n  margin: 0 0 1rem 0;\r\n}\r\n\r\n.product-price {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.current-price {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #0078d4;\r\n}\r\n\r\n.original-price {\r\n  font-size: 1.25rem;\r\n  color: #8a8886;\r\n  text-decoration: line-through;\r\n}\r\n\r\n.product-description h3,\r\n.product-tags h3 {\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  color: #323130;\r\n  margin: 0 0 1rem 0;\r\n}\r\n\r\n.product-description p {\r\n  font-size: 1rem;\r\n  line-height: 1.6;\r\n  color: #605e5c;\r\n  margin: 0;\r\n}\r\n\r\n.tags-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.tag {\r\n  padding: 0.5rem 1rem;\r\n  background: rgba(0, 120, 212, 0.1);\r\n  color: #0078d4;\r\n  border-radius: 1.5rem;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.product-actions {\r\n  display: flex;\r\n  gap: 1rem;\r\n  padding-top: 1.5rem;\r\n  border-top: 1px solid #e1dfdd;\r\n}\r\n\r\n.buy-btn {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  padding: 1rem 1.5rem;\r\n  background: linear-gradient(135deg, #0078d4, #106ebe);\r\n  border: none;\r\n  border-radius: 0.5rem;\r\n  color: white;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.buy-btn:hover {\r\n  background: linear-gradient(135deg, #106ebe, #005a9e);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.demo-btn,\r\n.favorite-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  padding: 1rem 1.5rem;\r\n  background: rgba(0, 120, 212, 0.1);\r\n  border: 1px solid rgba(0, 120, 212, 0.2);\r\n  border-radius: 0.5rem;\r\n  color: #0078d4;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.demo-btn:hover,\r\n.favorite-btn:hover {\r\n  background: rgba(0, 120, 212, 0.2);\r\n  border-color: rgba(0, 120, 212, 0.3);\r\n}\r\n\r\n.favorite-btn .icon.filled {\r\n  color: #e74c3c;\r\n}\r\n\r\n/* 加载和错误状态 */\r\n.loading-state,\r\n.error-state {\r\n  text-align: center;\r\n  padding: 4rem 2rem;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 1rem;\r\n  color: #323130;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 3rem;\r\n  height: 3rem;\r\n  border: 3px solid #e1dfdd;\r\n  border-top: 3px solid #0078d4;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.error-icon {\r\n  font-size: 4rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.error-state h3 {\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  margin: 0 0 0.75rem 0;\r\n}\r\n\r\n.error-state p {\r\n  font-size: 1rem;\r\n  color: #605e5c;\r\n  margin: 0 0 1.5rem 0;\r\n}\r\n\r\n.error-action {\r\n  padding: 0.75rem 1.5rem;\r\n  background: #0078d4;\r\n  border: none;\r\n  border-radius: 0.5rem;\r\n  color: white;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.error-action:hover {\r\n  background: #106ebe;\r\n}\r\n\r\n.icon {\r\n  width: 1.25rem;\r\n  height: 1.25rem;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .product-detail-view {\r\n    padding: 1rem;\r\n  }\r\n\r\n  .product-detail {\r\n    grid-template-columns: 1fr;\r\n    gap: 2rem;\r\n    padding: 1.5rem;\r\n  }\r\n\r\n  .product-title {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .current-price {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .product-actions {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .buy-btn,\r\n  .demo-btn,\r\n  .favorite-btn {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n"],"file":"assets/ProductDetailView-BZ1DuilX.js"}