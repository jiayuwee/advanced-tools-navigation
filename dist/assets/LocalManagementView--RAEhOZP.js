import{R as a}from"./refresh-cw-Br4ntZQ9.js";import{e as s,D as e,_ as l}from"./index-BZH0TPyE.js";import{T as t}from"./trash-CHi3HfFe.js";import{H as n}from"./hard-drive-CvTnrre2.js";import{E as i}from"./eye-BPZ8_xE4.js";import{F as o}from"./file-text-DTudDpbv.js";import{D as c}from"./download-LPXqI-B8.js";import{A as r}from"./activity-CldcHFtf.js";import{P as d}from"./play-BwOKyQjb.js";import{L as v}from"./loader-2-WR04C-Ur.js";import{d as u,r as m,b as p,o as b,m as f,q as g,t as y,y as h,E as w,B as S,u as x,D as k,A as j}from"./vendor-B_bmgS9f.js";
/**
 * @license lucide-vue-next v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=s("BarChartIcon",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),M={class:"local-management-view"},C={class:"page-header"},L={class:"header-actions"},E=["disabled"],O={class:"management-grid"},T={class:"management-card"},z={class:"card-header"},A={class:"card-content"},D={class:"card-stats"},F={class:"stat-item"},_={class:"stat-value"},I={class:"stat-item"},P={class:"stat-value"},R={class:"card-actions"},$=["disabled"],U=["disabled"],q={class:"management-card"},W={class:"card-header"},H={class:"card-content"},J={class:"card-stats"},V={class:"stat-item"},Z={class:"stat-value"},G={class:"stat-item"},K={class:"stat-value"},N={class:"card-actions"},Q=["disabled"],X={class:"management-card"},Y={class:"card-header"},aa={class:"card-content"},sa={class:"card-stats"},ea={class:"stat-item"},la={class:"stat-value"},ta={class:"stat-item"},na={class:"stat-value text-red-600"},ia={class:"card-actions"},oa=["disabled"],ca={class:"management-card"},ra={class:"card-header"},da={class:"card-content"},va={class:"card-stats"},ua={class:"stat-item"},ma={class:"stat-value"},pa={class:"stat-item"},ba={class:"stat-value"},fa={class:"card-actions"},ga=["disabled"],ya={class:"system-info-section"},ha={class:"info-grid"},wa={class:"info-item"},Sa={class:"info-value"},xa={class:"info-item"},ka={class:"info-value"},ja={class:"info-item"},Ba={class:"info-value"},Ma={class:"info-item"},Ca={class:"info-value"},La={class:"info-item"},Ea={class:"info-value"},Oa={class:"info-item"},Ta={key:0,class:"loading-overlay"},za={class:"loading-spinner"},Aa=l(u({__name:"LocalManagementView",setup(s){const l=m(!1),u=p({size:"0 MB",count:0}),Aa=p({used:"0 MB",available:"0 MB"}),Da=p({count:0,errors:0}),Fa=p({memory:"0 MB",loadTime:"0 ms"}),_a=p({browser:"",os:"",screen:"",timezone:"",language:"",online:!0}),Ia=async()=>{l.value=!0;try{await Promise.all([Pa(),Ra(),$a(),Ua(),qa()])}catch(a){console.error("刷新数据失败:",a)}finally{l.value=!1}},Pa=async()=>{u.size="2.5 MB",u.count=156},Ra=async()=>{try{if("storage"in navigator&&"estimate"in navigator.storage){const a=await navigator.storage.estimate(),s=a.usage||0,e=a.quota||0;Aa.used=Wa(s),Aa.available=Wa(e-s)}else Aa.used="未知",Aa.available="未知"}catch(a){console.error("获取存储统计失败:",a),Aa.used="获取失败",Aa.available="获取失败"}},$a=async()=>{Da.count=1234,Da.errors=5},Ua=async()=>{try{if("memory"in performance){const a=performance.memory;Fa.memory=Wa(a.usedJSHeapSize)}else Fa.memory="未知";const a=performance.getEntriesByType("navigation")[0];if(a){const s=a.loadEventEnd-a.navigationStart;Fa.loadTime=`${Math.round(s)} ms`}}catch(a){console.error("获取性能统计失败:",a)}},qa=()=>{_a.browser=Ha(),_a.os=Ja(),_a.screen=`${screen.width}x${screen.height}`,_a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone,_a.language=navigator.language,_a.online=navigator.onLine},Wa=a=>{if(0===a)return"0 B";const s=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB"][s]},Ha=()=>{const a=navigator.userAgent;return a.includes("Chrome")?"Chrome":a.includes("Firefox")?"Firefox":a.includes("Safari")?"Safari":a.includes("Edge")?"Edge":"未知"},Ja=()=>{const a=navigator.userAgent;return a.includes("Windows")?"Windows":a.includes("Mac")?"macOS":a.includes("Linux")?"Linux":a.includes("Android")?"Android":a.includes("iOS")?"iOS":"未知"},Va=async()=>{if(confirm("确定要清理所有缓存吗？")){l.value=!0;try{if("caches"in window){const a=await caches.keys();await Promise.all(a.map(a=>caches.delete(a)))}await Pa(),alert("缓存清理完成")}catch(a){console.error("清理缓存失败:",a),alert("清理缓存失败")}finally{l.value=!1}}},Za=async()=>{l.value=!0;try{window.location.reload()}catch(a){console.error("刷新缓存失败:",a)}finally{l.value=!1}},Ga=async()=>{if(confirm("确定要清理本地存储吗？这将清除所有保存的数据！")){l.value=!0;try{localStorage.clear(),sessionStorage.clear(),await Ra(),alert("本地存储清理完成")}catch(a){console.error("清理存储失败:",a),alert("清理存储失败")}finally{l.value=!1}}},Ka=()=>{const a={localStorage:{...localStorage},sessionStorage:{...sessionStorage}};console.log("本地存储数据:",a),alert("存储数据已输出到控制台")},Na=()=>{console.log("查看应用程序日志"),alert("日志数据已输出到控制台")},Qa=()=>{const a=JSON.stringify({timestamp:(new Date).toISOString(),logs:"模拟日志数据"},null,2),s=new Blob([a],{type:"application/json"}),e=URL.createObjectURL(s),l=document.createElement("a");l.href=e,l.download=`logs_${(new Date).toISOString().split("T")[0]}.json`,l.click(),URL.revokeObjectURL(e)},Xa=async()=>{l.value=!0;try{await new Promise(a=>setTimeout(a,2e3)),await Ua(),alert("性能测试完成")}catch(a){console.error("性能测试失败:",a)}finally{l.value=!1}},Ya=()=>{console.log("性能报告:",Fa),alert("性能报告已输出到控制台")};return b(()=>{Ia(),window.addEventListener("online",()=>{_a.online=!0}),window.addEventListener("offline",()=>{_a.online=!1})}),(s,m)=>(j(),f("div",M,[g("div",C,[m[1]||(m[1]=g("h1",{class:"page-title"},"本地管理",-1)),g("div",L,[g("button",{class:"btn btn-primary",disabled:l.value,onClick:Ia},[h(x(a),{class:S({"animate-spin":l.value})},null,8,["class"]),m[0]||(m[0]=w(" 刷新数据 "))],8,E)])]),g("div",O,[g("div",T,[g("div",z,[h(x(e),{class:"card-icon"}),m[2]||(m[2]=g("h3",null,"缓存管理",-1))]),g("div",A,[m[7]||(m[7]=g("p",{class:"card-description"},"管理应用程序缓存和临时数据",-1)),g("div",D,[g("div",F,[m[3]||(m[3]=g("span",{class:"stat-label"},"缓存大小:",-1)),g("span",_,k(u.size),1)]),g("div",I,[m[4]||(m[4]=g("span",{class:"stat-label"},"缓存项数:",-1)),g("span",P,k(u.count),1)])]),g("div",R,[g("button",{class:"btn btn-outline",disabled:l.value,onClick:Va},[h(x(t)),m[5]||(m[5]=w(" 清理缓存 "))],8,$),g("button",{class:"btn btn-outline",disabled:l.value,onClick:Za},[h(x(a)),m[6]||(m[6]=w(" 刷新缓存 "))],8,U)])])]),g("div",q,[g("div",W,[h(x(n),{class:"card-icon"}),m[8]||(m[8]=g("h3",null,"本地存储",-1))]),g("div",H,[m[13]||(m[13]=g("p",{class:"card-description"},"管理浏览器本地存储数据",-1)),g("div",J,[g("div",V,[m[9]||(m[9]=g("span",{class:"stat-label"},"存储使用:",-1)),g("span",Z,k(Aa.used),1)]),g("div",G,[m[10]||(m[10]=g("span",{class:"stat-label"},"可用空间:",-1)),g("span",K,k(Aa.available),1)])]),g("div",N,[g("button",{class:"btn btn-outline",onClick:Ka},[h(x(i)),m[11]||(m[11]=w(" 查看数据 "))]),g("button",{class:"btn btn-outline",disabled:l.value,onClick:Ga},[h(x(t)),m[12]||(m[12]=w(" 清理存储 "))],8,Q)])])]),g("div",X,[g("div",Y,[h(x(o),{class:"card-icon"}),m[14]||(m[14]=g("h3",null,"日志管理",-1))]),g("div",aa,[m[19]||(m[19]=g("p",{class:"card-description"},"查看和管理应用程序日志",-1)),g("div",sa,[g("div",ea,[m[15]||(m[15]=g("span",{class:"stat-label"},"日志条数:",-1)),g("span",la,k(Da.count),1)]),g("div",ta,[m[16]||(m[16]=g("span",{class:"stat-label"},"错误数:",-1)),g("span",na,k(Da.errors),1)])]),g("div",ia,[g("button",{class:"btn btn-outline",onClick:Na},[h(x(i)),m[17]||(m[17]=w(" 查看日志 "))]),g("button",{class:"btn btn-outline",disabled:l.value,onClick:Qa},[h(x(c)),m[18]||(m[18]=w(" 导出日志 "))],8,oa)])])]),g("div",ca,[g("div",ra,[h(x(r),{class:"card-icon"}),m[20]||(m[20]=g("h3",null,"性能监控",-1))]),g("div",da,[m[25]||(m[25]=g("p",{class:"card-description"},"监控应用程序性能指标",-1)),g("div",va,[g("div",ua,[m[21]||(m[21]=g("span",{class:"stat-label"},"内存使用:",-1)),g("span",ma,k(Fa.memory),1)]),g("div",pa,[m[22]||(m[22]=g("span",{class:"stat-label"},"页面加载:",-1)),g("span",ba,k(Fa.loadTime),1)])]),g("div",fa,[g("button",{class:"btn btn-outline",disabled:l.value,onClick:Xa},[h(x(d)),m[23]||(m[23]=w(" 性能测试 "))],8,ga),g("button",{class:"btn btn-outline",onClick:Ya},[h(x(B)),m[24]||(m[24]=w(" 性能报告 "))])])])])]),g("div",ya,[m[32]||(m[32]=g("h2",{class:"section-title"},"系统信息",-1)),g("div",ha,[g("div",wa,[m[26]||(m[26]=g("span",{class:"info-label"},"浏览器:",-1)),g("span",Sa,k(_a.browser),1)]),g("div",xa,[m[27]||(m[27]=g("span",{class:"info-label"},"操作系统:",-1)),g("span",ka,k(_a.os),1)]),g("div",ja,[m[28]||(m[28]=g("span",{class:"info-label"},"屏幕分辨率:",-1)),g("span",Ba,k(_a.screen),1)]),g("div",Ma,[m[29]||(m[29]=g("span",{class:"info-label"},"时区:",-1)),g("span",Ca,k(_a.timezone),1)]),g("div",La,[m[30]||(m[30]=g("span",{class:"info-label"},"语言:",-1)),g("span",Ea,k(_a.language),1)]),g("div",Oa,[m[31]||(m[31]=g("span",{class:"info-label"},"在线状态:",-1)),g("span",{class:S(["info-value",_a.online?"text-green-600":"text-red-600"])},k(_a.online?"在线":"离线"),3)])])]),l.value?(j(),f("div",Ta,[g("div",za,[h(x(v),{class:"animate-spin"}),m[33]||(m[33]=g("span",null,"处理中...",-1))])])):y("",!0)]))}}),[["__scopeId","data-v-18c72f7b"]]);export{Aa as default};
