import{d as e,r as a,c as s,m as l,q as r,t,G as o,I as i,W as d,v as u,u as n,Q as c,B as v,D as p,E as m,H as f,x as w,y as g,M as h,L as b,A as y}from"./vendor-B_bmgS9f.js";import{c as k,_ as x}from"./index-BZH0TPyE.js";import{E as P}from"./eye-BPZ8_xE4.js";import{E as T}from"./eye-off-DW_IoVgw.js";const _={class:"register-view"},U={class:"form-group"},V=["disabled"],q={class:"form-group"},N=["disabled"],j={class:"form-group"},E={class:"password-input"},A=["type","disabled"],z={class:"password-strength"},I={class:"strength-bar"},Z={class:"strength-text"},B={class:"form-group"},C=["disabled"],D={key:0,class:"error-hint"},G={class:"form-group"},H={class:"checkbox-label"},L=["disabled"],M={key:0,class:"loading-spinner"},Q={key:0,class:"error-message"},R={class:"register-footer"},S=x(e({__name:"RegisterView",setup(e){const x=k(),S=a(!1),W=a(null),F=a(!1),J=a({fullName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),K=s(()=>{const e=J.value.password;if(!e)return{class:"",width:"0%",text:""};let a=0;return e.length>=8&&a++,/[a-z]/.test(e)&&a++,/[A-Z]/.test(e)&&a++,/[0-9]/.test(e)&&a++,/[^A-Za-z0-9]/.test(e)&&a++,a<2?{class:"weak",width:"20%",text:"弱"}:a<3?{class:"fair",width:"40%",text:"一般"}:a<4?{class:"good",width:"60%",text:"良好"}:a<5?{class:"strong",width:"80%",text:"强"}:{class:"very-strong",width:"100%",text:"很强"}}),O=s(()=>J.value.email&&J.value.password&&J.value.password===J.value.confirmPassword&&J.value.agreeToTerms&&J.value.password.length>=8),X=async()=>{try{S.value=!0,W.value=null,await new Promise(e=>setTimeout(e,1500)),console.log("注册成功:",J.value.email),x.push("/auth/login")}catch(e){W.value=e instanceof Error?e.message:"注册失败，请重试"}finally{S.value=!1}};return(e,a)=>{const s=b("router-link");return y(),l("div",_,[a[17]||(a[17]=r("div",{class:"register-header"},[r("h1",null,"注册"),r("p",null,"创建您的账户，开始使用工具导航站")],-1)),r("form",{class:"register-form",onSubmit:w(X,["prevent"])},[r("div",U,[a[6]||(a[6]=r("label",{for:"fullName"},"姓名",-1)),o(r("input",{id:"fullName","onUpdate:modelValue":a[0]||(a[0]=e=>J.value.fullName=e),type:"text",placeholder:"请输入您的姓名",disabled:S.value},null,8,V),[[i,J.value.fullName]])]),r("div",q,[a[7]||(a[7]=r("label",{for:"email"},"邮箱地址 *",-1)),o(r("input",{id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>J.value.email=e),type:"email",required:"",placeholder:"请输入您的邮箱地址",disabled:S.value},null,8,N),[[i,J.value.email]])]),r("div",j,[a[8]||(a[8]=r("label",{for:"password"},"密码 *",-1)),r("div",E,[o(r("input",{id:"password","onUpdate:modelValue":a[2]||(a[2]=e=>J.value.password=e),type:F.value?"text":"password",required:"",placeholder:"请输入密码（至少8位）",disabled:S.value},null,8,A),[[d,J.value.password]]),r("button",{type:"button",class:"password-toggle",onClick:a[3]||(a[3]=e=>F.value=!F.value)},[F.value?(y(),u(n(T),{key:1,class:"icon"})):(y(),u(n(P),{key:0,class:"icon"}))])]),r("div",z,[r("div",I,[r("div",{class:v(["strength-fill",K.value.class]),style:c({width:K.value.width})},null,6)]),r("span",Z,p(K.value.text),1)])]),r("div",B,[a[9]||(a[9]=r("label",{for:"confirmPassword"},"确认密码 *",-1)),o(r("input",{id:"confirmPassword","onUpdate:modelValue":a[4]||(a[4]=e=>J.value.confirmPassword=e),type:"password",required:"",placeholder:"请再次输入密码",disabled:S.value},null,8,C),[[i,J.value.confirmPassword]]),J.value.confirmPassword&&J.value.password!==J.value.confirmPassword?(y(),l("div",D," 密码不匹配 ")):t("",!0)]),r("div",G,[r("label",H,[o(r("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>J.value.agreeToTerms=e),type:"checkbox",required:""},null,512),[[f,J.value.agreeToTerms]]),a[10]||(a[10]=r("span",{class:"checkmark"},null,-1)),a[11]||(a[11]=m(" 我已阅读并同意 ")),a[12]||(a[12]=r("a",{href:"#",class:"terms-link"},"服务条款",-1)),a[13]||(a[13]=m(" 和 ")),a[14]||(a[14]=r("a",{href:"#",class:"terms-link"},"隐私政策",-1))])]),r("button",{type:"submit",class:"register-btn",disabled:S.value||!O.value},[S.value?(y(),l("div",M)):t("",!0),r("span",null,p(S.value?"注册中...":"注册"),1)],8,L),W.value?(y(),l("div",Q,p(W.value),1)):t("",!0)],32),r("div",R,[r("p",null,[a[16]||(a[16]=m(" 已有账户？ ")),g(s,{to:"/auth/login",class:"login-link"},{default:h(()=>a[15]||(a[15]=[m("立即登录")])),_:1,__:[15]})])])])}}}),[["__scopeId","data-v-1a5fc67c"]]);export{S as default};
