var e=Object.defineProperty,a=(a,t,s)=>((a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s)(a,"symbol"!=typeof t?t+"":t,s);import{d as t,r as s,c as l,o,n,w as i,m as c,H as r,q as u,t as d,y as v,A as p,u as g,a2 as h,B as m,D as y,X as f,ap as k,F as w,z as b,v as _,I as C,C as S,ae as x,a7 as T,N as q,K as $,aq as M,R as O,ar as H,as as E,G as R,a1 as A,at as U,a0 as D,a6 as I,x as B,au as P}from"./vendor-C-I1M3bb.js";import{s as F,T as V,u as G,a as z,b as L,_ as Q,c as j,d as N}from"./index-B0BAN12T.js";const J=new class{constructor(){a(this,"searchHistory",[]),a(this,"popularQueries",new Map)}async search(e){const a=Date.now(),{query:t,type:s="all",limit:l=20,offset:o=0}=e;try{let l=[],o=0,n={categories:[],tags:[],priceRanges:[]};switch(this.addToHistory(t,s),s){case"tools":const a=await this.searchTools(e);l=a.items,o=a.total,n=a.facets;break;case"products":const t=await this.searchProducts(e);l=t.items,o=t.total,n=t.facets;break;case"categories":const s=await this.searchCategories(e);l=s.items,o=s.total;break;default:const i=await this.searchAll(e);l=i.items,o=i.total,n=i.facets}const i=await this.generateSuggestions(t,s);return{items:l,total:o,query:t,suggestions:i,facets:n,searchTime:Date.now()-a}}catch(n){throw console.error("æœç´¢å¤±è´¥:",n),n}}async searchTools(e){const{query:a,category:t,tags:s,sortBy:l="relevance",sortOrder:o="desc",limit:n=20,offset:i=0}=e;let c=F.from(V.TOOLS).select("\n        *,\n        categories!inner(name, icon, color),\n        tool_tags!inner(tags!inner(name, color))\n      ",{count:"exact"});a&&(c=c.or(`\n        name.ilike.%${a}%,\n        description.ilike.%${a}%,\n        meta_title.ilike.%${a}%,\n        meta_description.ilike.%${a}%\n      `)),t&&(c=c.eq("category_id",t)),s&&s.length>0&&(c=c.in("tool_tags.tag_id",s)),c=c.eq("status","active"),"relevance"===l&&a?(c=c.order("is_featured",{ascending:!1}),c=c.order("click_count",{ascending:!1})):c=c.order(l,{ascending:"asc"===o}),c=c.range(i,i+n-1);const{data:r,error:u,count:d}=await c;if(u)throw u;return{items:r||[],total:d||0,facets:await this.generateToolsFacets(a,t,s)}}async searchProducts(e){const{query:a,category:t,priceRange:s,sortBy:l="relevance",sortOrder:o="desc",limit:n=20,offset:i=0}=e;let c=F.from(V.PRODUCTS).select("\n        *,\n        product_categories!inner(name, icon, color)\n      ",{count:"exact"});a&&(c=c.or(`\n        name.ilike.%${a}%,\n        description.ilike.%${a}%,\n        short_description.ilike.%${a}%,\n        meta_title.ilike.%${a}%,\n        meta_description.ilike.%${a}%\n      `)),t&&(c=c.eq("category_id",t)),s&&(c=c.gte("price",s[0]).lte("price",s[1])),c=c.eq("status","active"),c="relevance"===l&&a?c.order("is_featured",{ascending:!1}):c.order(l,{ascending:"asc"===o}),c=c.range(i,i+n-1);const{data:r,error:u,count:d}=await c;if(u)throw u;return{items:r||[],total:d||0,facets:await this.generateProductsFacets(a,t,s)}}async searchCategories(e){const{query:a,limit:t=20,offset:s=0}=e;let l=F.from(V.CATEGORIES).select("*",{count:"exact"});a&&(l=l.or(`\n        name.ilike.%${a}%,\n        description.ilike.%${a}%\n      `)),l=l.eq("is_active",!0).order("sort_order",{ascending:!0}).range(s,s+t-1);const{data:o,error:n,count:i}=await l;if(n)throw n;return{items:o||[],total:i||0}}async searchAll(e){const{limit:a=20}=e,[t,s,l]=await Promise.all([this.searchTools({...e,limit:Math.ceil(a/3)}),this.searchProducts({...e,limit:Math.ceil(a/3)}),this.searchCategories({...e,limit:Math.ceil(a/3)})]);return{items:[...t.items.map(e=>({...e,_type:"tool"})),...s.items.map(e=>({...e,_type:"product"})),...l.items.map(e=>({...e,_type:"category"}))],total:t.total+s.total+l.total,facets:{categories:[...t.facets.categories,...s.facets.categories],tags:t.facets.tags,priceRanges:s.facets.priceRanges}}}async generateToolsFacets(e,a,t){const s=F.from(V.CATEGORIES).select("\n        id, name,\n        tools!inner(id)\n      ",{count:"exact"}).eq("is_active",!0);e&&s.or(`\n        tools.name.ilike.%${e}%,\n        tools.description.ilike.%${e}%\n      `);const{data:l}=await s,o=(l||[]).map(e=>{var a;return{name:e.name,count:(null==(a=e.tools)?void 0:a.length)||0}}),n=F.from(V.TAGS).select("\n        id, name,\n        tool_tags!inner(tools!inner(id))\n      ",{count:"exact"});e&&n.or(`\n        tool_tags.tools.name.ilike.%${e}%,\n        tool_tags.tools.description.ilike.%${e}%\n      `);const{data:i}=await n;return{categories:o,tags:(i||[]).map(e=>{var a;return{name:e.name,count:(null==(a=e.tool_tags)?void 0:a.length)||0}}),priceRanges:[]}}async generateProductsFacets(e,a,t){const s=F.from(V.PRODUCT_CATEGORIES).select("\n        id, name,\n        products!inner(id)\n      ",{count:"exact"});e&&s.or(`\n        products.name.ilike.%${e}%,\n        products.description.ilike.%${e}%\n      `);const{data:l}=await s;return{categories:(l||[]).map(e=>{var a;return{name:e.name,count:(null==(a=e.products)?void 0:a.length)||0}}),tags:[],priceRanges:[{range:"0-50",count:0},{range:"50-100",count:0},{range:"100-500",count:0},{range:"500+",count:0}]}}async generateSuggestions(e,a){if(!e||e.length<2)return[];const t=[];try{const{data:a}=await F.from(V.TOOLS).select("name").ilike("name",`%${e}%`).eq("status","active").limit(5);null==a||a.forEach(e=>{t.includes(e.name)||t.push(e.name)});const{data:s}=await F.from(V.PRODUCTS).select("name").ilike("name",`%${e}%`).eq("status","active").limit(5);null==s||s.forEach(e=>{t.includes(e.name)||t.push(e.name)});const{data:l}=await F.from(V.CATEGORIES).select("name").ilike("name",`%${e}%`).eq("is_active",!0).limit(3);null==l||l.forEach(e=>{t.includes(e.name)||t.push(e.name)})}catch(s){console.error("ç”Ÿæˆæœç´¢å»ºè®®å¤±è´¥:",s)}return t.slice(0,8)}async getPopularSearches(e=10){return Array.from(this.popularQueries.entries()).sort((e,a)=>a[1]-e[1]).slice(0,e).map(([e])=>e)}getSearchHistory(e=10){return this.searchHistory.sort((e,a)=>a.timestamp.getTime()-e.timestamp.getTime()).slice(0,e)}clearSearchHistory(){this.searchHistory=[],localStorage.removeItem("search_history")}saveHistoryToStorage(){try{localStorage.setItem("search_history",JSON.stringify(this.searchHistory))}catch(e){console.error("ä¿å­˜æœç´¢å†å²å¤±è´¥:",e)}}loadHistoryFromStorage(){try{const e=localStorage.getItem("search_history");if(e){const a=JSON.parse(e);this.searchHistory=a.map(e=>({...e,timestamp:new Date(e.timestamp)}))}}catch(e){console.error("åŠ è½½æœç´¢å†å²å¤±è´¥:",e),this.searchHistory=[]}}addToHistory(e,a){const t={id:Date.now().toString(),query:e,type:a,timestamp:new Date,results_count:0};this.searchHistory=this.searchHistory.filter(t=>t.query!==e||t.type!==a),this.searchHistory.unshift(t),this.searchHistory.length>50&&(this.searchHistory=this.searchHistory.slice(0,50));const s=this.popularQueries.get(e)||0;this.popularQueries.set(e,s+1)}async getSmartSuggestions(e){const a=[];if(!e||e.length<2){return(await this.getPopularSearches(5)).map(e=>({text:e,type:"query"}))}try{(await this.generateSuggestions(e,"all")).forEach(e=>{a.push({text:e,type:"query"})});const{data:t}=await F.from(V.CATEGORIES).select("name").ilike("name",`%${e}%`).eq("is_active",!0).limit(3);null==t||t.forEach(e=>{a.push({text:e.name,type:"category"})});const{data:s}=await F.from(V.TAGS).select("name").ilike("name",`%${e}%`).limit(3);null==s||s.forEach(e=>{a.push({text:e.name,type:"tag"})})}catch(t){console.error("è·å–æ™ºèƒ½å»ºè®®å¤±è´¥:",t)}return a.slice(0,10)}},K={class:"search-input-container"},W={class:"search-input-wrapper"},X=["placeholder"],Y={class:"search-actions"},Z={key:0,class:"suggestions-dropdown"},ee={key:0,class:"suggestions-section"},ae=["onClick","onMouseenter"],te={class:"suggestion-text"},se={class:"suggestion-type"},le={key:1,class:"suggestions-section"},oe=["onClick","onMouseenter"],ne={class:"suggestion-text"},ie={class:"suggestion-meta"},ce={key:2,class:"suggestions-section"},re={class:"popular-searches"},ue=["onClick"],de={key:0,class:"advanced-search-panel"},ve={class:"advanced-search-content"},pe={class:"advanced-row"},ge={class:"advanced-group"},he=["value"],me={class:"advanced-group"},ye={class:"advanced-group"},fe={key:0,class:"advanced-row"},ke={class:"advanced-group"},we={class:"price-range"},be={class:"advanced-row"},_e={class:"advanced-group full-width"},Ce={class:"tags-input"},Se={class:"selected-tags"},xe=["onClick"],Te={key:0,class:"tags-dropdown"},qe=["onClick"],$e={key:1,class:"search-status"},Me={key:2,class:"search-stats"},Oe=Q(t({__name:"EnhancedSearchBox",props:{placeholder:{default:"æœç´¢å·¥å…·ã€äº§å“ã€åˆ†ç±»..."},autoFocus:{type:Boolean,default:!1},showAdvanced:{type:Boolean,default:!1},defaultType:{default:"all"}},emits:["search","clear","focus","blur"],setup(e,{expose:a,emit:t}){const A=e,U=t,D=z(),I=G(),B=s(),P=s(""),F=s(A.defaultType),V=s(!1),Q=s(!1),j=s(!1),N=s(A.showAdvanced),Oe=s(!1),He=s(-1),Ee=s([]),Re=s([]),Ae=s([]),Ue=s({category:"",sortBy:"relevance",sortOrder:"desc",priceMin:null,priceMax:null}),De=s([]),Ie=s(""),Be=s([]),Pe=s(null),Fe=l(()=>I.categories),Ve=l(()=>[...Ee.value,...Re.value.map(e=>({text:e.query,type:"query"}))]),Ge=()=>{V.value=!0,Q.value=!0,j.value=!0,U("focus"),je()},ze=()=>{setTimeout(()=>{V.value=!1,j.value=!1,He.value=-1},200),U("blur")},Le=()=>{He.value=-1,Ne()},Qe=e=>{var a;switch(e.key){case"ArrowDown":e.preventDefault(),He.value=Math.min(He.value+1,Ve.value.length-1);break;case"ArrowUp":e.preventDefault(),He.value=Math.max(He.value-1,-1);break;case"Enter":e.preventDefault(),He.value>=0?Je(Ve.value[He.value].text):Ke();break;case"Escape":null==(a=B.value)||a.blur()}},je=async()=>{try{P.value?Ee.value=await J.getSmartSuggestions(P.value):(Ee.value=[],Re.value=J.getSearchHistory(5),Ae.value=await J.getPopularSearches(8))}catch(e){console.error("åŠ è½½æœç´¢å»ºè®®å¤±è´¥:",e)}},Ne=L(je,300),Je=e=>{P.value=e,j.value=!1,Ke()},Ke=async()=>{if(P.value.trim())try{Oe.value=!0;const e={query:P.value.trim(),type:F.value,category:Ue.value.category||void 0,tags:De.value.map(e=>e.id),priceRange:Ue.value.priceMin&&Ue.value.priceMax?[Ue.value.priceMin,Ue.value.priceMax]:void 0,sortBy:Ue.value.sortBy,sortOrder:Ue.value.sortOrder,limit:20},a=await J.search(e);Pe.value=a,U("search",a),D.push({name:"SearchResults",query:{q:P.value,type:F.value,...Ue.value}})}catch(e){console.error("æœç´¢å¤±è´¥:",e)}finally{Oe.value=!1}},We=()=>{var e;P.value="",Pe.value=null,U("clear"),null==(e=B.value)||e.focus()},Xe=()=>{J.clearSearchHistory(),Re.value=[]},Ye=()=>{N.value=!N.value,Q.value=N.value},Ze=()=>{Ue.value={category:"",sortBy:"relevance",sortOrder:"desc",priceMin:null,priceMax:null},De.value=[]},ea=()=>{P.value&&Ke()},aa=async()=>{Ie.value||(Be.value=[])},ta=e=>{switch(e){case"category":return E;case"tag":return H;case"tool":case"product":return O;default:return M}},sa=e=>{switch(e){case"category":return"åˆ†ç±»";case"tag":return"æ ‡ç­¾";case"tool":return"å·¥å…·";case"product":return"äº§å“";default:return"æœç´¢"}},la=e=>{const a=(new Date).getTime()-e.getTime(),t=Math.floor(a/6e4),s=Math.floor(a/36e5),l=Math.floor(a/864e5);return t<1?"åˆšåˆš":t<60?`${t}åˆ†é’Ÿå‰`:s<24?`${s}å°æ—¶å‰`:`${l}å¤©å‰`};return o(async()=>{var e;A.autoFocus&&(await n(),null==(e=B.value)||e.focus()),0===I.categories.length&&await I.loadCategories()}),i(P,()=>{P.value||(Pe.value=null)}),a({focus:()=>{var e;return null==(e=B.value)?void 0:e.focus()},clear:We,search:Ke}),(e,a)=>(R(),c("div",{class:r(["enhanced-search-box",{"is-focused":V.value,"is-expanded":Q.value}])},[u("div",K,[u("div",W,[v(g(h),{class:"search-icon"}),p(u("input",{ref_key:"searchInput",ref:B,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e),type:"text",class:"search-input",placeholder:e.placeholder,onFocus:Ge,onBlur:ze,onKeydown:Qe,onInput:Le},null,40,X),[[m,P.value]]),u("div",Y,[p(u("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>F.value=e),class:"search-type-select"},a[8]||(a[8]=[u("option",{value:"all"},"å…¨éƒ¨",-1),u("option",{value:"tools"},"å·¥å…·",-1),u("option",{value:"products"},"äº§å“",-1),u("option",{value:"categories"},"åˆ†ç±»",-1)]),512),[[y,F.value]]),P.value?(R(),c("button",{key:0,onClick:We,class:"clear-button",type:"button"},[v(g(f),{class:"icon"})])):d("",!0),u("button",{onClick:Ye,class:r(["advanced-button",{active:N.value}]),type:"button"},[v(g(k),{class:"icon"})],2)])]),j.value&&(Ee.value.length>0||Re.value.length>0)?(R(),c("div",Z,[Ee.value.length>0?(R(),c("div",ee,[a[9]||(a[9]=u("div",{class:"suggestions-header"},"æœç´¢å»ºè®®",-1)),(R(!0),c(w,null,b(Ee.value,(e,a)=>(R(),c("div",{key:`suggestion-${a}`,class:r(["suggestion-item",{active:He.value===a}]),onClick:a=>Je(e.text),onMouseenter:e=>He.value=a},[(R(),_(C(ta(e.type)),{class:"suggestion-icon"})),u("span",te,S(e.text),1),u("span",se,S(sa(e.type)),1)],42,ae))),128))])):d("",!0),Re.value.length>0&&!P.value?(R(),c("div",le,[u("div",{class:"suggestions-header"},[a[10]||(a[10]=u("span",null,"æœ€è¿‘æœç´¢",-1)),u("button",{onClick:Xe,class:"clear-history-button"}," æ¸…é™¤ ")]),(R(!0),c(w,null,b(Re.value,(e,a)=>(R(),c("div",{key:`history-${e.id}`,class:r(["suggestion-item history-item",{active:He.value===Ee.value.length+a}]),onClick:a=>Je(e.query),onMouseenter:e=>He.value=Ee.value.length+a},[v(g(x),{class:"suggestion-icon"}),u("span",ne,S(e.query),1),u("span",ie,S(la(e.timestamp)),1)],42,oe))),128))])):d("",!0),Ae.value.length>0&&!P.value?(R(),c("div",ce,[a[11]||(a[11]=u("div",{class:"suggestions-header"},"çƒ­é—¨æœç´¢",-1)),u("div",re,[(R(!0),c(w,null,b(Ae.value,e=>(R(),c("button",{key:e,onClick:a=>Je(e),class:"popular-search-tag"},S(e),9,ue))),128))])])):d("",!0)])):d("",!0)]),N.value?(R(),c("div",de,[u("div",ve,[u("div",pe,[u("div",ge,[a[13]||(a[13]=u("label",{class:"advanced-label"},"åˆ†ç±»",-1)),p(u("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>Ue.value.category=e),class:"advanced-select"},[a[12]||(a[12]=u("option",{value:""},"æ‰€æœ‰åˆ†ç±»",-1)),(R(!0),c(w,null,b(Fe.value,e=>(R(),c("option",{key:e.id,value:e.id},S(e.name),9,he))),128))],512),[[y,Ue.value.category]])]),u("div",me,[a[15]||(a[15]=u("label",{class:"advanced-label"},"æ’åº",-1)),p(u("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>Ue.value.sortBy=e),class:"advanced-select"},a[14]||(a[14]=[T('<option value="relevance" data-v-aa9aa83a>ç›¸å…³æ€§</option><option value="name" data-v-aa9aa83a>åç§°</option><option value="created_at" data-v-aa9aa83a>åˆ›å»ºæ—¶é—´</option><option value="click_count" data-v-aa9aa83a>çƒ­åº¦</option><option value="price" data-v-aa9aa83a>ä»·æ ¼</option>',5)]),512),[[y,Ue.value.sortBy]])]),u("div",ye,[a[17]||(a[17]=u("label",{class:"advanced-label"},"é¡ºåº",-1)),p(u("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>Ue.value.sortOrder=e),class:"advanced-select"},a[16]||(a[16]=[u("option",{value:"desc"},"é™åº",-1),u("option",{value:"asc"},"å‡åº",-1)]),512),[[y,Ue.value.sortOrder]])])]),"products"===F.value?(R(),c("div",fe,[u("div",ke,[a[19]||(a[19]=u("label",{class:"advanced-label"},"ä»·æ ¼èŒƒå›´",-1)),u("div",we,[p(u("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>Ue.value.priceMin=e),type:"number",placeholder:"æœ€ä½ä»·",class:"price-input",min:"0"},null,512),[[m,Ue.value.priceMin,void 0,{number:!0}]]),a[18]||(a[18]=u("span",{class:"price-separator"},"-",-1)),p(u("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>Ue.value.priceMax=e),type:"number",placeholder:"æœ€é«˜ä»·",class:"price-input",min:"0"},null,512),[[m,Ue.value.priceMax,void 0,{number:!0}]])])])])):d("",!0),u("div",be,[u("div",_e,[a[20]||(a[20]=u("label",{class:"advanced-label"},"æ ‡ç­¾",-1)),u("div",Ce,[u("div",Se,[(R(!0),c(w,null,b(De.value,e=>(R(),c("span",{key:e.id,class:"selected-tag"},[q(S(e.name)+" ",1),u("button",{onClick:a=>(e=>{De.value=De.value.filter(a=>a.id!==e.id)})(e),class:"remove-tag"},[v(g(f),{class:"icon"})],8,xe)]))),128))]),p(u("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>Ie.value=e),type:"text",placeholder:"è¾“å…¥æ ‡ç­¾åç§°...",class:"tag-input",onInput:aa},null,544),[[m,Ie.value]]),Be.value.length>0?(R(),c("div",Te,[(R(!0),c(w,null,b(Be.value,e=>(R(),c("div",{key:e.id,class:"tag-option",onClick:a=>(e=>{De.value.find(a=>a.id===e.id)||De.value.push(e),Ie.value="",Be.value=[]})(e)},[u("span",{class:"tag-color",style:$({backgroundColor:e.color})},null,4),q(" "+S(e.name),1)],8,qe))),128))])):d("",!0)])])]),u("div",{class:"advanced-actions"},[u("button",{onClick:Ze,class:"reset-button"},"é‡ç½®"),u("button",{onClick:ea,class:"apply-button"},"åº”ç”¨ç­›é€‰")])])])):d("",!0),Oe.value?(R(),c("div",$e,a[21]||(a[21]=[u("div",{class:"search-loading"},[u("div",{class:"loading-spinner"}),u("span",null,"æœç´¢ä¸­...")],-1)]))):d("",!0),Pe.value?(R(),c("div",Me," æ‰¾åˆ° "+S(Pe.value.total)+" ä¸ªç»“æœï¼Œç”¨æ—¶ "+S(Pe.value.searchTime)+"ms ",1)):d("",!0)],2))}}),[["__scopeId","data-v-aa9aa83a"]]),He={class:"enhanced-home-view"},Ee={class:"hero-section"},Re={class:"container"},Ae={class:"hero-content"},Ue={class:"search-section"},De={class:"main-content"},Ie={class:"container"},Be={class:"content-layout"},Pe={class:"sidebar"},Fe={class:"sidebar-section"},Ve={class:"nav-links"},Ge={class:"sidebar-section"},ze={class:"category-filters"},Le=["onClick"],Qe={class:"tools-grid"},je=["onClick"],Ne=["onClick"],Je={class:"tool-header"},Ke={class:"tool-icon"},We={class:"tool-title"},Xe={class:"tool-subtitle"},Ye={class:"tool-body"},Ze={class:"tool-description"},ea={class:"tool-tags"},aa={key:0,class:"tool-tag more"},ta={key:0,class:"empty-state"},sa=Q(t({__name:"EnhancedHomeView",setup(e){const a=j(),t=G(),n=N(),i=z(),p=s(null),h=s(null),m=l(()=>t.categories),y=l(()=>{if(h.value)return h.value.items||[];let e=a.tools;return p.value&&(e=e.filter(e=>e.category_id===p.value)),e}),f=e=>{h.value=e},k=()=>{h.value=null},_=()=>{h.value=null,p.value=null};return o(async()=>{a.initialized||await a.initialize(),t.initialized||await t.initialize()}),(e,t)=>{const s=D("router-link");return R(),c("div",He,[u("header",Ee,[u("div",Re,[u("div",Ae,[t[0]||(t[0]=u("div",{class:"logo-section"},[u("div",{class:"logo-icon"},"ğŸš€"),u("h1",{class:"main-title"},"é«˜æ•ˆå·¥å…·å¯¼èˆªç«™")],-1)),t[1]||(t[1]=u("p",{class:"tagline"},"ç²¾å¿ƒæŒ‘é€‰çš„ä¼˜è´¨å·¥å…·ï¼Œè®©æ‚¨çš„å·¥ä½œæ•ˆç‡å€å¢",-1)),u("div",Ue,[v(Oe,{placeholder:"æœç´¢å·¥å…·ã€åˆ†ç±»æˆ–åŠŸèƒ½...","auto-focus":!1,onSearch:f,onClear:k})])])])]),u("main",De,[u("div",Ie,[u("div",Be,[u("aside",Pe,[u("div",Fe,[t[5]||(t[5]=u("h3",null,"å¯¼èˆª",-1)),u("nav",Ve,[v(s,{to:"/tools",class:"nav-link active"},{default:A(()=>[v(g(U),{class:"icon"}),t[2]||(t[2]=q(" å…¨éƒ¨å·¥å…· "))]),_:1,__:[2]}),v(s,{to:"/favorites",class:"nav-link"},{default:A(()=>[v(g(I),{class:"icon"}),t[3]||(t[3]=q(" æˆ‘çš„æ”¶è— "))]),_:1,__:[3]}),v(s,{to:"/products",class:"nav-link"},{default:A(()=>[v(g(O),{class:"icon"}),t[4]||(t[4]=q(" æˆ‘çš„äº§å“ "))]),_:1,__:[4]})])]),u("div",Ge,[t[6]||(t[6]=u("h3",null,"åˆ†ç±»",-1)),u("div",ze,[(R(!0),c(w,null,b(m.value,e=>(R(),c("button",{key:e.id,class:r(["category-tag",{active:p.value===e.id}]),onClick:a=>{return t=e.id,void(p.value=p.value===t?null:t);var t}},S(e.name),11,Le))),128))])])]),u("section",Qe,[(R(!0),c(w,null,b(y.value,(e,t)=>(R(),c("div",{key:e.id,class:"tool-card",style:$({"--index":t}),onClick:t=>(async e=>{if(console.log("ç‚¹å‡»å·¥å…·:",e.name,"URL:",e.url),!e.url||""===e.url.trim())return console.warn("å·¥å…·URLä¸ºç©º:",e),void alert("è¯¥å·¥å…·æš‚æ— å¯ç”¨é“¾æ¥");try{let t=e.url.trim();t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t),await a.incrementClickCount(e.id),window.open(t,"_blank","noopener,noreferrer")}catch(t){console.error("æ‰“å¼€é“¾æ¥å¤±è´¥:",t),alert("æ— æ³•æ‰“å¼€è¯¥é“¾æ¥ï¼Œè¯·æ£€æŸ¥URLæ˜¯å¦æ­£ç¡®")}})(e)},[u("button",{class:r(["favorite-btn",{favorited:e.isFavorite}]),onClick:B(t=>(async e=>{n.isAuthenticated?await a.toggleFavorite(e.id):i.push("/auth/login")})(e),["stop"])},[v(g(P),{class:"icon"})],10,Ne),u("div",Je,[u("div",Ke,S(e.icon||"ğŸ”§"),1),u("h3",We,S(e.name),1),u("p",Xe,S(e.short_description||e.description.slice(0,50)+"..."),1)]),u("div",Ye,[u("p",Ze,S(e.description),1),u("div",ea,[(R(!0),c(w,null,b((e.tags||[]).slice(0,3),e=>(R(),c("span",{key:e,class:"tool-tag"},S(e),1))),128)),(e.tags||[]).length>3?(R(),c("span",aa," +"+S((e.tags||[]).length-3),1)):d("",!0)])])],12,je))),128)),0===y.value.length?(R(),c("div",ta,[t[7]||(t[7]=u("div",{class:"empty-icon"},"ğŸ”",-1)),t[8]||(t[8]=u("h3",null,"æœªæ‰¾åˆ°ç›¸å…³å·¥å…·",-1)),t[9]||(t[9]=u("p",null,"å°è¯•ä½¿ç”¨å…¶ä»–å…³é”®è¯æœç´¢ï¼Œæˆ–æµè§ˆå…¶ä»–åˆ†ç±»",-1)),u("button",{class:"empty-action",onClick:_}," æ¸…é™¤æœç´¢æ¡ä»¶ ")])):d("",!0)])])])]),t[10]||(t[10]=u("footer",{class:"footer"},[u("div",{class:"container"},[u("p",null,"Â© 2024 é«˜æ•ˆå·¥å…·å¯¼èˆªç«™ | è®©æ‚¨çš„å·¥ä½œæ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆ")])],-1))])}}}),[["__scopeId","data-v-2d7b1fae"]]);export{sa as default};
