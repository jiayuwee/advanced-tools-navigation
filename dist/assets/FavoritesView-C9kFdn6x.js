import{W as e,X as a,E as s,g as t,c as i,_ as c}from"./index-C3iyAWwk.js";import{S as o}from"./shopping-bag-BIxJxSw_.js";import{E as l}from"./eye-C1GTx_f1.js";import{d as n,r,o as d,m as u,q as p,t as v,F as m,z as y,B as k,v as g,E as _,C as b,D as h,y as f,u as C,M as w,L as S,A}from"./vendor-C7R90qIp.js";const D={class:"favorites-view"},O={class:"favorites-tabs"},j=["onClick"],F={class:"tab-count"},I={class:"favorites-content"},E={key:0,class:"tab-panel"},x={key:0,class:"favorites-grid"},B={class:"item-header"},P={class:"item-icon"},V=["onClick"],$={class:"item-content"},q={class:"item-name"},z={class:"item-description"},L={class:"item-meta"},M={class:"category"},N={class:"clicks"},Q={class:"item-actions"},T=["onClick"],W={key:1,class:"empty-state"},Y={key:1,class:"tab-panel"},G={key:0,class:"favorites-grid"},H={class:"item-header"},J={class:"item-image"},K=["src","alt"],R=["onClick"],U={class:"item-content"},X={class:"item-name"},Z={class:"item-description"},ee={class:"item-price"},ae={class:"current-price"},se={key:0,class:"original-price"},te={class:"item-actions"},ie=["onClick"],ce=["onClick"],oe={key:1,class:"empty-state"},le={key:0,class:"loading-state"},ne=c(n({__name:"FavoritesView",setup(c){const n=i(),ne=r(!0),re=r("tools"),de=r([]),ue=r([]),pe=[{key:"tools",label:"å·¥å…·",icon:e},{key:"products",label:"äº§å“",icon:o}],ve=async(e,a)=>{try{"tool"===e?de.value=de.value.filter(e=>e.id!==a):ue.value=ue.value.filter(e=>e.id!==a)}catch(s){console.error("å–æ¶ˆæ”¶è—å¤±è´¥:",s)}};return d(()=>{(async()=>{try{ne.value=!0,await new Promise(e=>setTimeout(e,1e3)),de.value=[{id:"1",name:"VS Code",description:"å¼ºå¤§çš„ä»£ç ç¼–è¾‘å™¨",url:"https://code.visualstudio.com",icon:"ğŸ’»",category:{id:"1",name:"å¼€å‘å·¥å…·",icon:"ğŸ’»",color:"#0078d4",count:0,sort_order:0,is_active:!0,created_at:"",updatedAt:""},tags:[],isFavorite:!0,clickCount:150,isFeature:!0,status:"active",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),sortOrder:0}],ue.value=[{id:"1",name:"é«˜æ•ˆåŠå…¬å¥—ä»¶",description:"æå‡åŠå…¬æ•ˆç‡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ",shortDescription:"åŠå…¬æ•ˆç‡å·¥å…·",price:299,originalPrice:399,currency:"CNY",category:{id:"1",name:"åŠå…¬è½¯ä»¶",icon:"ğŸ“Š",color:"#0078d4",count:0,sort_order:0,is_active:!0,created_at:"",updatedAt:""},images:["/placeholder.jpg"],features:["æ–‡æ¡£å¤„ç†","é¡¹ç›®ç®¡ç†"],isFeatured:!0,isDigital:!0,status:"active",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"user1",sortOrder:0}]}catch(e){console.error("åŠ è½½æ”¶è—å¤±è´¥:",e)}finally{ne.value=!1}})()}),(e,i)=>{const c=S("router-link");return A(),u("div",D,[i[12]||(i[12]=p("div",{class:"favorites-header"},[p("h1",null,"æˆ‘çš„æ”¶è—"),p("p",null,"ç®¡ç†æ‚¨æ”¶è—çš„å·¥å…·å’Œäº§å“")],-1)),p("div",O,[(A(),u(m,null,y(pe,e=>{return p("button",{key:e.key,class:k(["tab",{active:re.value===e.key}]),onClick:a=>re.value=e.key},[(A(),g(b(e.icon),{class:"tab-icon"})),_(" "+h(e.label)+" ",1),p("span",F,h((a=e.key,"tools"===a?de.value.length:"products"===a?ue.value.length:0)),1)],10,j);var a}),64))]),p("div",I,["tools"===re.value?(A(),u("div",E,[de.value.length>0?(A(),u("div",x,[(A(!0),u(m,null,y(de.value,e=>(A(),u("div",{key:e.id,class:"favorite-item tool-item"},[p("div",B,[p("div",P,h(e.icon||"ğŸ”§"),1),p("button",{class:"remove-btn",onClick:a=>ve("tool",e.id)},[f(C(a),{class:"icon"})],8,V)]),p("div",$,[p("h3",q,h(e.name),1),p("p",z,h(e.description),1),p("div",L,[p("span",M,h(e.category.name),1),p("span",N,h(e.click_count)+" æ¬¡è®¿é—®",1)])]),p("div",Q,[p("button",{class:"action-btn primary",onClick:a=>(e=>{window.open(e.url,"_blank","noopener,noreferrer")})(e)},[f(C(s),{class:"icon"}),i[0]||(i[0]=_(" æ‰“å¼€å·¥å…· "))],8,T)])]))),128))])):(A(),u("div",W,[i[2]||(i[2]=p("div",{class:"empty-icon"},"ğŸ”§",-1)),i[3]||(i[3]=p("h3",null,"æš‚æ— æ”¶è—çš„å·¥å…·",-1)),i[4]||(i[4]=p("p",null,"å»å‘ç°ä¸€äº›æœ‰ç”¨çš„å·¥å…·å¹¶æ”¶è—å®ƒä»¬å§ï¼",-1)),f(c,{to:"/tools",class:"empty-action"},{default:w(()=>i[1]||(i[1]=[_("æµè§ˆå·¥å…·")])),_:1,__:[1]})]))])):v("",!0),"products"===re.value?(A(),u("div",Y,[ue.value.length>0?(A(),u("div",G,[(A(!0),u(m,null,y(ue.value,e=>(A(),u("div",{key:e.id,class:"favorite-item product-item"},[p("div",H,[p("div",J,[p("img",{src:e.images[0]||"/placeholder.jpg",alt:e.name},null,8,K)]),p("button",{class:"remove-btn",onClick:a=>ve("product",e.id)},[f(C(a),{class:"icon"})],8,R)]),p("div",U,[p("h3",X,h(e.name),1),p("p",Z,h(e.short_description||e.description),1),p("div",ee,[p("span",ae,"Â¥"+h(e.price),1),e.original_price&&e.original_price>e.price?(A(),u("span",se," Â¥"+h(e.original_price),1)):v("",!0)])]),p("div",te,[p("button",{class:"action-btn secondary",onClick:a=>(e=>{n.push(`/product/${e.id}`)})(e)},[f(C(l),{class:"icon"}),i[5]||(i[5]=_(" æŸ¥çœ‹è¯¦æƒ… "))],8,ie),p("button",{class:"action-btn primary",onClick:a=>(e=>{n.push(`/payment?product=${e.id}`)})(e)},[f(C(t),{class:"icon"}),i[6]||(i[6]=_(" ç«‹å³è´­ä¹° "))],8,ce)])]))),128))])):(A(),u("div",oe,[i[8]||(i[8]=p("div",{class:"empty-icon"},"ğŸ›ï¸",-1)),i[9]||(i[9]=p("h3",null,"æš‚æ— æ”¶è—çš„äº§å“",-1)),i[10]||(i[10]=p("p",null,"å»å‘ç°ä¸€äº›ä¼˜è´¨äº§å“å¹¶æ”¶è—å®ƒä»¬å§ï¼",-1)),f(c,{to:"/products",class:"empty-action"},{default:w(()=>i[7]||(i[7]=[_("æµè§ˆäº§å“")])),_:1,__:[7]})]))])):v("",!0)]),ne.value?(A(),u("div",le,i[11]||(i[11]=[p("div",{class:"loading-spinner"},null,-1),p("p",null,"æ­£åœ¨åŠ è½½æ”¶è—...",-1)]))):v("",!0)])}}}),[["__scopeId","data-v-2a98540d"]]);export{ne as default};
