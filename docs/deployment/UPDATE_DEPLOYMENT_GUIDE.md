# ğŸ”„ æ›´æ–°éƒ¨ç½²å†³ç­–æŒ‡å—

## ğŸ“‹ å…¨å±€éƒ¨ç½²æ¶æ„åˆ†æ

åŸºäºæ‚¨çš„é¡¹ç›®é…ç½®ï¼Œä»¥ä¸‹æ˜¯æ›´æ–°éƒ¨ç½²æ—¶çš„å…¨å±€å†³ç­–æŒ‡å—ï¼š

### ğŸ—ï¸ å½“å‰éƒ¨ç½²æ¶æ„

```
GitHub (ä»£ç ) â†’ GitHub Actions (CI/CD) â†’ Netlify (å‰ç«¯) + Supabase (åç«¯)
     â†“                â†“                      â†“              â†“
   ä»£ç æ¨é€        è‡ªåŠ¨è§¦å‘å·¥ä½œæµ           è‡ªåŠ¨éƒ¨ç½²        æ•°æ®åº“è¿ç§»
```

## ğŸ¯ æ›´æ–°éƒ¨ç½²å†³ç­–çŸ©é˜µ

### âœ… **éœ€è¦æ“ä½œçš„æƒ…å†µ**

| æ›´æ–°ç±»å‹ | GitHub Actions | Netlify è®¾ç½® | Supabase è¿ç§» | è¯´æ˜ |
|----------|----------------|--------------|---------------|------|
| **å‰ç«¯ä»£ç æ›´æ–°** | âŒ è‡ªåŠ¨è§¦å‘ | âŒ è‡ªåŠ¨éƒ¨ç½² | âŒ ä¸éœ€è¦ | æ¨é€åˆ° main åˆ†æ”¯å³å¯ |
| **æ•°æ®åº“ç»“æ„å˜æ›´** | âœ… æ‰‹åŠ¨è§¦å‘ | âŒ è‡ªåŠ¨éƒ¨ç½² | âœ… éœ€è¦è¿ç§» | ä¿®æ”¹ supabase/ ç›®å½• |
| **ç¯å¢ƒå˜é‡æ›´æ–°** | âœ… æ›´æ–° Secrets | âš ï¸ å¯èƒ½éœ€è¦ | âŒ ä¸éœ€è¦ | æ›´æ–°é…ç½®åé‡æ–°éƒ¨ç½² |
| **ä¾èµ–åŒ…æ›´æ–°** | âŒ è‡ªåŠ¨å¤„ç† | âŒ è‡ªåŠ¨å¤„ç† | âŒ ä¸éœ€è¦ | package.json å˜æ›´è‡ªåŠ¨å¤„ç† |
| **åŸŸå/SSL å˜æ›´** | âŒ ä¸éœ€è¦ | âœ… éœ€è¦é…ç½® | âŒ ä¸éœ€è¦ | åœ¨ Netlify æ§åˆ¶å°æ“ä½œ |
| **æ–°åŠŸèƒ½å‘å¸ƒ** | âŒ è‡ªåŠ¨è§¦å‘ | âŒ è‡ªåŠ¨éƒ¨ç½² | âš ï¸ è§†æƒ…å†µè€Œå®š | æ ¹æ®æ˜¯å¦æœ‰æ•°æ®åº“å˜æ›´ |

### âŒ **ä¸éœ€è¦æ“ä½œçš„æƒ…å†µ**

| åœºæ™¯ | åŸå›  | è‡ªåŠ¨åŒ–ç¨‹åº¦ |
|------|------|------------|
| **æ—¥å¸¸ä»£ç æ›´æ–°** | GitHub Actions è‡ªåŠ¨ CI/CD | 100% è‡ªåŠ¨ |
| **æ ·å¼è°ƒæ•´** | å‰ç«¯æ„å»ºè‡ªåŠ¨å¤„ç† | 100% è‡ªåŠ¨ |
| **é…ç½®æ–‡ä»¶æ›´æ–°** | æ„å»ºæ—¶è‡ªåŠ¨åŒ…å« | 100% è‡ªåŠ¨ |
| **æ–‡æ¡£æ›´æ–°** | ä¸å½±å“ç”Ÿäº§ç¯å¢ƒ | 100% è‡ªåŠ¨ |

## ğŸš€ å…·ä½“æ“ä½œæŒ‡å—

### 1. **çº¯å‰ç«¯æ›´æ–°**ï¼ˆæœ€å¸¸è§ï¼‰

**è§¦å‘æ¡ä»¶**ï¼š
- ä¿®æ”¹ Vue ç»„ä»¶ã€æ ·å¼ã€è·¯ç”±
- æ›´æ–° package.json ä¾èµ–
- ä¿®æ”¹ Vite é…ç½®

**æ“ä½œæ­¥éª¤**ï¼š
```bash
# 1. æäº¤ä»£ç 
git add .
git commit -m "feat: æ›´æ–°åŠŸèƒ½"
git push origin main

# 2. ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ— éœ€æ‰‹åŠ¨æ“ä½œï¼‰
# - GitHub Actions è‡ªåŠ¨è¿è¡Œ CI æ£€æŸ¥
# - Netlify è‡ªåŠ¨æ‹‰å–å¹¶éƒ¨ç½²
# - 3-5 åˆ†é’Ÿåç”Ÿæ•ˆ
```

**ç›‘æ§**ï¼š
- GitHub Actions: https://github.com/jiayuwee/advanced-tools-navigation/actions
- Netlify éƒ¨ç½²: https://app.netlify.com/sites/spiffy-torrone-5454e1/deploys

### 2. **æ•°æ®åº“ç»“æ„æ›´æ–°**

**è§¦å‘æ¡ä»¶**ï¼š
- ä¿®æ”¹ `supabase/migrations/` æ–‡ä»¶
- æ–°å¢è¡¨ã€å­—æ®µã€ç´¢å¼•
- æ›´æ–° RLS ç­–ç•¥

**æ“ä½œæ­¥éª¤**ï¼š
```bash
# 1. åˆ›å»ºè¿ç§»æ–‡ä»¶
npx supabase migration new "add_new_feature"

# 2. ç¼–å†™è¿ç§» SQL
# ç¼–è¾‘ supabase/migrations/æ–°æ–‡ä»¶.sql

# 3. æäº¤ä»£ç ï¼ˆè‡ªåŠ¨è§¦å‘ Supabase éƒ¨ç½²ï¼‰
git add supabase/
git commit -m "feat: æ·»åŠ æ–°æ•°æ®åº“åŠŸèƒ½"
git push origin main

# 4. æˆ–æ‰‹åŠ¨è§¦å‘ Supabase éƒ¨ç½²
npm run deployment:trigger
```

**éªŒè¯**ï¼š
```bash
# æ£€æŸ¥éƒ¨ç½²çŠ¶æ€
npm run deployment:status

# éªŒè¯æ•°æ®åº“è¿æ¥
npm run supabase:verify
```

### 3. **ç¯å¢ƒå˜é‡æ›´æ–°**

**éœ€è¦æ›´æ–°çš„æƒ…å†µ**ï¼š
- Supabase é¡¹ç›®è¿ç§»
- API å¯†é’¥è½®æ¢
- æ–°å¢ç¬¬ä¸‰æ–¹æœåŠ¡

**æ“ä½œæ­¥éª¤**ï¼š
```bash
# 1. æ›´æ–° GitHub Secrets
# è®¿é—®: https://github.com/jiayuwee/advanced-tools-navigation/settings/secrets/actions

# 2. æ›´æ–°æœ¬åœ°ç¯å¢ƒ
# ç¼–è¾‘ .env.local æ–‡ä»¶

# 3. éªŒè¯é…ç½®
npm run secrets:check

# 4. è§¦å‘é‡æ–°éƒ¨ç½²
git commit --allow-empty -m "chore: æ›´æ–°ç¯å¢ƒå˜é‡"
git push origin main
```

### 4. **ç´§æ€¥ä¿®å¤éƒ¨ç½²**

**å¿«é€Ÿéƒ¨ç½²æµç¨‹**ï¼š
```bash
# 1. ä¿®å¤ä»£ç 
git add .
git commit -m "fix: ç´§æ€¥ä¿®å¤"

# 2. æ¨é€å¹¶ç›‘æ§
git push origin main

# 3. å®æ—¶ç›‘æ§éƒ¨ç½²
npm run monitor:health

# 4. éªŒè¯ä¿®å¤æ•ˆæœ
curl -I https://ramusi.cn
```

## ğŸ” éƒ¨ç½²çŠ¶æ€æ£€æŸ¥

### è‡ªåŠ¨åŒ–æ£€æŸ¥å·¥å…·

```bash
# å…¨é¢é…ç½®æ£€æŸ¥
npm run config:verify

# GitHub Secrets æ£€æŸ¥
npm run secrets:check

# å®Œæ•´éƒ¨ç½²æµç¨‹æµ‹è¯•
npm run test:deployment

# å®æ—¶å¥åº·ç›‘æ§
npm run monitor:health
```

### æ‰‹åŠ¨æ£€æŸ¥æ¸…å•

- [ ] **GitHub Actions** å·¥ä½œæµçŠ¶æ€æ­£å¸¸
- [ ] **Netlify** éƒ¨ç½²æˆåŠŸä¸”ç½‘ç«™å¯è®¿é—®
- [ ] **Supabase** æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] **åŸŸå** SSL è¯ä¹¦æœ‰æ•ˆ
- [ ] **ç›‘æ§** å¥åº·æ£€æŸ¥é€šè¿‡

## âš ï¸ ç‰¹æ®Šæƒ…å†µå¤„ç†

### å›æ»šç­–ç•¥

**å‰ç«¯å›æ»š**ï¼š
```bash
# Netlify æ§åˆ¶å°ä¸€é”®å›æ»š
# æˆ–é‡æ–°éƒ¨ç½²ä¹‹å‰çš„æäº¤
git revert HEAD
git push origin main
```

**æ•°æ®åº“å›æ»š**ï¼š
```bash
# åˆ›å»ºå›æ»šè¿ç§»
npx supabase migration new "rollback_feature"
# ç¼–å†™åå‘ SQL æ“ä½œ
```

### æ•…éšœæ’é™¤

**æ„å»ºå¤±è´¥**ï¼š
```bash
# æ¸…ç†ä¾èµ–é‡è¯•
npm run deps:clean
```

**éƒ¨ç½²è¶…æ—¶**ï¼š
```bash
# æ£€æŸ¥ Netlify æ„å»ºæ—¥å¿—
# ä¼˜åŒ–æ„å»ºé…ç½®æˆ–æ‹†åˆ†éƒ¨ç½²
```

**æ•°æ®åº“è¿æ¥å¤±è´¥**ï¼š
```bash
# éªŒè¯ Secrets é…ç½®
npm run secrets:check

# æ£€æŸ¥ Supabase é¡¹ç›®çŠ¶æ€
# è®¿é—®: https://supabase.com/dashboard/project/ndmxwdejswybvbwrxsai
```

## ğŸ“Š éƒ¨ç½²é¢‘ç‡å»ºè®®

| æ›´æ–°ç±»å‹ | å»ºè®®é¢‘ç‡ | é£é™©ç­‰çº§ |
|----------|----------|----------|
| **åŠŸèƒ½æ›´æ–°** | æ¯å‘¨ 1-2 æ¬¡ | ğŸŸ¡ ä¸­ç­‰ |
| **Bug ä¿®å¤** | éšæ—¶ | ğŸŸ¢ ä½ |
| **ä¾èµ–æ›´æ–°** | æ¯æœˆ 1 æ¬¡ | ğŸŸ¡ ä¸­ç­‰ |
| **æ•°æ®åº“è¿ç§»** | è°¨æ…è§„åˆ’ | ğŸ”´ é«˜ |
| **å®‰å…¨æ›´æ–°** | ç«‹å³ | ğŸŸ¢ ä½ |

## ğŸ¯ æœ€ä½³å®è·µ

1. **æ¸è¿›å¼éƒ¨ç½²**ï¼šå…ˆæµ‹è¯•ï¼Œåç”Ÿäº§
2. **ç›‘æ§ä¼˜å…ˆ**ï¼šéƒ¨ç½²åç«‹å³æ£€æŸ¥çŠ¶æ€
3. **æ–‡æ¡£åŒæ­¥**ï¼šæ›´æ–°ä»£ç åŒæ—¶æ›´æ–°æ–‡æ¡£
4. **å¤‡ä»½ç­–ç•¥**ï¼šé‡è¦å˜æ›´å‰å¤‡ä»½æ•°æ®
5. **å›¢é˜Ÿåä½œ**ï¼šé‡å¤§æ›´æ–°æå‰æ²Ÿé€š

---

**æ€»ç»“**ï¼šæ‚¨çš„é¡¹ç›®å·²é«˜åº¦è‡ªåŠ¨åŒ–ï¼Œå¤§éƒ¨åˆ†æ›´æ–°åªéœ€æ¨é€ä»£ç å³å¯ã€‚åªæœ‰æ•°æ®åº“ç»“æ„å˜æ›´å’Œç¯å¢ƒé…ç½®æ›´æ–°éœ€è¦é¢å¤–æ“ä½œã€‚
