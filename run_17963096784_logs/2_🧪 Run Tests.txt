2025-09-24T00:59:41.4100583Z Current runner version: '2.328.0'
2025-09-24T00:59:41.4124487Z ##[group]Runner Image Provisioner
2025-09-24T00:59:41.4125227Z Hosted Compute Agent
2025-09-24T00:59:41.4125848Z Version: 20250829.383
2025-09-24T00:59:41.4126460Z Commit: 27cb235aab5b0e52e153a26cd86b4742e89dac5d
2025-09-24T00:59:41.4127178Z Build Date: 2025-08-29T13:48:48Z
2025-09-24T00:59:41.4127781Z ##[endgroup]
2025-09-24T00:59:41.4128318Z ##[group]Operating System
2025-09-24T00:59:41.4128833Z Ubuntu
2025-09-24T00:59:41.4129345Z 24.04.3
2025-09-24T00:59:41.4129823Z LTS
2025-09-24T00:59:41.4130261Z ##[endgroup]
2025-09-24T00:59:41.4130764Z ##[group]Runner Image
2025-09-24T00:59:41.4131276Z Image: ubuntu-24.04
2025-09-24T00:59:41.4132092Z Version: 20250907.24.1
2025-09-24T00:59:41.4133053Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250907.24/images/ubuntu/Ubuntu2404-Readme.md
2025-09-24T00:59:41.4134687Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250907.24
2025-09-24T00:59:41.4135656Z ##[endgroup]
2025-09-24T00:59:41.4138033Z ##[group]GITHUB_TOKEN Permissions
2025-09-24T00:59:41.4139927Z Actions: write
2025-09-24T00:59:41.4140596Z Attestations: write
2025-09-24T00:59:41.4141110Z Checks: write
2025-09-24T00:59:41.4141859Z Contents: write
2025-09-24T00:59:41.4142540Z Deployments: write
2025-09-24T00:59:41.4143055Z Discussions: write
2025-09-24T00:59:41.4143510Z Issues: write
2025-09-24T00:59:41.4144037Z Metadata: read
2025-09-24T00:59:41.4144511Z Models: read
2025-09-24T00:59:41.4144989Z Packages: write
2025-09-24T00:59:41.4145724Z Pages: write
2025-09-24T00:59:41.4146246Z PullRequests: write
2025-09-24T00:59:41.4146784Z RepositoryProjects: write
2025-09-24T00:59:41.4147353Z SecurityEvents: write
2025-09-24T00:59:41.4148034Z Statuses: write
2025-09-24T00:59:41.4148494Z ##[endgroup]
2025-09-24T00:59:41.4150611Z Secret source: Actions
2025-09-24T00:59:41.4151895Z Prepare workflow directory
2025-09-24T00:59:41.4535425Z Prepare all required actions
2025-09-24T00:59:41.4573442Z Getting action download info
2025-09-24T00:59:41.7584451Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-09-24T00:59:41.8557715Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-09-24T00:59:41.9967622Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-09-24T00:59:42.2441016Z Complete job name: 🧪 Run Tests
2025-09-24T00:59:42.3222735Z ##[group]Run actions/checkout@v4
2025-09-24T00:59:42.3224017Z with:
2025-09-24T00:59:42.3224842Z   repository: jiayuwee/advanced-tools-navigation
2025-09-24T00:59:42.3226194Z   token: ***
2025-09-24T00:59:42.3226894Z   ssh-strict: true
2025-09-24T00:59:42.3227629Z   ssh-user: git
2025-09-24T00:59:42.3228384Z   persist-credentials: true
2025-09-24T00:59:42.3229223Z   clean: true
2025-09-24T00:59:42.3229959Z   sparse-checkout-cone-mode: true
2025-09-24T00:59:42.3230866Z   fetch-depth: 1
2025-09-24T00:59:42.3231725Z   fetch-tags: false
2025-09-24T00:59:42.3232528Z   show-progress: true
2025-09-24T00:59:42.3233274Z   lfs: false
2025-09-24T00:59:42.3233957Z   submodules: false
2025-09-24T00:59:42.3234716Z   set-safe-directory: true
2025-09-24T00:59:42.3235756Z env:
2025-09-24T00:59:42.3236387Z   NODE_VERSION: 20.x
2025-09-24T00:59:42.3237120Z   CACHE_VERSION: v3
2025-09-24T00:59:42.3237831Z ##[endgroup]
2025-09-24T00:59:42.4360462Z Syncing repository: jiayuwee/advanced-tools-navigation
2025-09-24T00:59:42.4363469Z ##[group]Getting Git version info
2025-09-24T00:59:42.4365290Z Working directory is '/home/runner/work/advanced-tools-navigation/advanced-tools-navigation'
2025-09-24T00:59:42.4367563Z [command]/usr/bin/git version
2025-09-24T00:59:42.5526122Z git version 2.51.0
2025-09-24T00:59:42.5553817Z ##[endgroup]
2025-09-24T00:59:42.5568700Z Temporarily overriding HOME='/home/runner/work/_temp/6a71ed79-1763-42a5-9f15-e3208e9ea205' before making global git config changes
2025-09-24T00:59:42.5571439Z Adding repository directory to the temporary git global config as a safe directory
2025-09-24T00:59:42.5582722Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/advanced-tools-navigation/advanced-tools-navigation
2025-09-24T00:59:42.5666059Z Deleting the contents of '/home/runner/work/advanced-tools-navigation/advanced-tools-navigation'
2025-09-24T00:59:42.5668817Z ##[group]Initializing the repository
2025-09-24T00:59:42.5674306Z [command]/usr/bin/git init /home/runner/work/advanced-tools-navigation/advanced-tools-navigation
2025-09-24T00:59:42.6729310Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-09-24T00:59:42.6731357Z hint: is subject to change. To configure the initial branch name to use in all
2025-09-24T00:59:42.6733465Z hint: of your new repositories, which will suppress this warning, call:
2025-09-24T00:59:42.6734799Z hint:
2025-09-24T00:59:42.6735710Z hint: 	git config --global init.defaultBranch <name>
2025-09-24T00:59:42.6736795Z hint:
2025-09-24T00:59:42.6737865Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-09-24T00:59:42.6739588Z hint: 'development'. The just-created branch can be renamed via this command:
2025-09-24T00:59:42.6740933Z hint:
2025-09-24T00:59:42.6741711Z hint: 	git branch -m <name>
2025-09-24T00:59:42.6742538Z hint:
2025-09-24T00:59:42.6743657Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-09-24T00:59:42.6777187Z Initialized empty Git repository in /home/runner/work/advanced-tools-navigation/advanced-tools-navigation/.git/
2025-09-24T00:59:42.6790014Z [command]/usr/bin/git remote add origin https://github.com/jiayuwee/advanced-tools-navigation
2025-09-24T00:59:42.6942512Z ##[endgroup]
2025-09-24T00:59:42.6944091Z ##[group]Disabling automatic garbage collection
2025-09-24T00:59:42.6946172Z [command]/usr/bin/git config --local gc.auto 0
2025-09-24T00:59:42.6976296Z ##[endgroup]
2025-09-24T00:59:42.6977504Z ##[group]Setting up auth
2025-09-24T00:59:42.6983188Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-09-24T00:59:42.7014443Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-09-24T00:59:42.8846042Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-09-24T00:59:42.8877534Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-09-24T00:59:42.9100296Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-09-24T00:59:42.9135499Z ##[endgroup]
2025-09-24T00:59:42.9136466Z ##[group]Fetching the repository
2025-09-24T00:59:42.9153141Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +b638fe4d3c3ba5445fe43e4d88e23d0704babe06:refs/remotes/origin/main
2025-09-24T00:59:43.4023037Z From https://github.com/jiayuwee/advanced-tools-navigation
2025-09-24T00:59:43.4025585Z  * [new ref]         b638fe4d3c3ba5445fe43e4d88e23d0704babe06 -> origin/main
2025-09-24T00:59:43.4107422Z ##[endgroup]
2025-09-24T00:59:43.4108272Z ##[group]Determining the checkout info
2025-09-24T00:59:43.4110194Z ##[endgroup]
2025-09-24T00:59:43.4115995Z [command]/usr/bin/git sparse-checkout disable
2025-09-24T00:59:43.4204189Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-09-24T00:59:43.4231940Z ##[group]Checking out the ref
2025-09-24T00:59:43.4236102Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-09-24T00:59:43.4704420Z Switched to a new branch 'main'
2025-09-24T00:59:43.4706023Z branch 'main' set up to track 'origin/main'.
2025-09-24T00:59:43.4713837Z ##[endgroup]
2025-09-24T00:59:43.4751411Z [command]/usr/bin/git log -1 --format=%H
2025-09-24T00:59:43.4774375Z b638fe4d3c3ba5445fe43e4d88e23d0704babe06
2025-09-24T00:59:43.5005402Z ##[group]Run actions/setup-node@v4
2025-09-24T00:59:43.5005844Z with:
2025-09-24T00:59:43.5006165Z   node-version: 20.x
2025-09-24T00:59:43.5006506Z   cache: npm
2025-09-24T00:59:43.5006855Z   cache-dependency-path: package-lock.json
2025-09-24T00:59:43.5007268Z   always-auth: false
2025-09-24T00:59:43.5007605Z   check-latest: false
2025-09-24T00:59:43.5008101Z   token: ***
2025-09-24T00:59:43.5008410Z env:
2025-09-24T00:59:43.5008717Z   NODE_VERSION: 20.x
2025-09-24T00:59:43.5009048Z   CACHE_VERSION: v3
2025-09-24T00:59:43.5009556Z ##[endgroup]
2025-09-24T00:59:43.7089737Z Found in cache @ /opt/hostedtoolcache/node/20.19.5/x64
2025-09-24T00:59:43.7095725Z ##[group]Environment details
2025-09-24T00:59:46.0362992Z node: v20.19.5
2025-09-24T00:59:46.0363378Z npm: 10.8.2
2025-09-24T00:59:46.0363630Z yarn: 1.22.22
2025-09-24T00:59:46.0364602Z ##[endgroup]
2025-09-24T00:59:46.0388901Z [command]/opt/hostedtoolcache/node/20.19.5/x64/bin/npm config get cache
2025-09-24T00:59:46.3201300Z /home/runner/.npm
2025-09-24T00:59:46.4863235Z Cache hit for: node-cache-Linux-x64-npm-3286e3e9d3da300b733282ad1052d9b8ad8f04c17477e7b8b39e333cd703d1ef
2025-09-24T00:59:46.7834881Z Received 41633190 of 41633190 (100.0%), 151.5 MBs/sec
2025-09-24T00:59:46.7836966Z Cache Size: ~40 MB (41633190 B)
2025-09-24T00:59:46.7940129Z [command]/usr/bin/tar -xf /home/runner/work/_temp/bc7e53ee-f760-4c54-86db-79d8f31fba1b/cache.tzst -P -C /home/runner/work/advanced-tools-navigation/advanced-tools-navigation --use-compress-program unzstd
2025-09-24T00:59:46.9852461Z Cache restored successfully
2025-09-24T00:59:46.9936356Z Cache restored from key: node-cache-Linux-x64-npm-3286e3e9d3da300b733282ad1052d9b8ad8f04c17477e7b8b39e333cd703d1ef
2025-09-24T00:59:47.0080995Z ##[group]Run echo "📦 安装依赖..."
2025-09-24T00:59:47.0081332Z [36;1mecho "📦 安装依赖..."[0m
2025-09-24T00:59:47.0081870Z [36;1mnpm config set prefer-offline true[0m
2025-09-24T00:59:47.0082195Z [36;1mnpm config set audit-level moderate[0m
2025-09-24T00:59:47.0082492Z [36;1mnpm config set fund false[0m
2025-09-24T00:59:47.0082709Z [36;1m[0m
2025-09-24T00:59:47.0082928Z [36;1mnpm cache clean --force 2>/dev/null || true[0m
2025-09-24T00:59:47.0083190Z [36;1m[0m
2025-09-24T00:59:47.0083391Z [36;1mif [ -f "package-lock.json" ]; then[0m
2025-09-24T00:59:47.0083775Z [36;1m  npm ci --no-optional --prefer-offline --no-audit --ignore-scripts --silent[0m
2025-09-24T00:59:47.0084140Z [36;1melse[0m
2025-09-24T00:59:47.0084425Z [36;1m  npm install --prefer-offline --no-audit --ignore-scripts --silent[0m
2025-09-24T00:59:47.0084748Z [36;1mfi[0m
2025-09-24T00:59:47.0084921Z [36;1m[0m
2025-09-24T00:59:47.0085100Z [36;1mecho "✅ 依赖安装完成"[0m
2025-09-24T00:59:47.0138961Z shell: /usr/bin/bash -e {0}
2025-09-24T00:59:47.0139211Z env:
2025-09-24T00:59:47.0139400Z   NODE_VERSION: 20.x
2025-09-24T00:59:47.0139633Z   CACHE_VERSION: v3
2025-09-24T00:59:47.0139819Z ##[endgroup]
2025-09-24T00:59:47.0218302Z 📦 安装依赖...
2025-09-24T01:00:00.6151134Z ✅ 依赖安装完成
2025-09-24T01:00:00.6254331Z ##[group]Run echo "🧪 运行单元测试..."
2025-09-24T01:00:00.6254803Z [36;1mecho "🧪 运行单元测试..."[0m
2025-09-24T01:00:00.6255200Z [36;1mnpm run test:run[0m
2025-09-24T01:00:00.6255550Z [36;1mecho "✅ 单元测试通过"[0m
2025-09-24T01:00:00.6289392Z shell: /usr/bin/bash -e {0}
2025-09-24T01:00:00.6289619Z env:
2025-09-24T01:00:00.6289791Z   NODE_VERSION: 20.x
2025-09-24T01:00:00.6289987Z   CACHE_VERSION: v3
2025-09-24T01:00:00.6290163Z ##[endgroup]
2025-09-24T01:00:00.6342653Z 🧪 运行单元测试...
2025-09-24T01:00:00.7541067Z 
2025-09-24T01:00:00.7542051Z > advanced-tools-navigation@1.0.0 test:run
2025-09-24T01:00:00.7542624Z > vitest run
2025-09-24T01:00:00.7542832Z 
2025-09-24T01:00:01.0284077Z /home/runner/work/advanced-tools-navigation/advanced-tools-navigation/node_modules/rollup/dist/native.js:71
2025-09-24T01:00:01.0285044Z 		throw new Error(
2025-09-24T01:00:01.0285363Z 		      ^
2025-09-24T01:00:01.0285529Z 
2025-09-24T01:00:01.0287295Z Error: Cannot find module @rollup/rollup-linux-x64-gnu. npm has a bug related to optional dependencies (https://github.com/npm/cli/issues/4828). Please try `npm i` again after removing both package-lock.json and node_modules directory.
2025-09-24T01:00:01.0290013Z     at requireWithFriendlyError (/home/runner/work/advanced-tools-navigation/advanced-tools-navigation/node_modules/rollup/dist/native.js:71:9)
2025-09-24T01:00:01.0291145Z     at Object.<anonymous> (/home/runner/work/advanced-tools-navigation/advanced-tools-navigation/node_modules/rollup/dist/native.js:80:76)
2025-09-24T01:00:01.0292052Z     ... 3 lines matching cause stack trace ...
2025-09-24T01:00:01.0292478Z     at Module._load (node:internal/modules/cjs/loader:1091:12)
2025-09-24T01:00:01.0292892Z     at cjsLoader (node:internal/modules/esm/translators:298:15)
2025-09-24T01:00:01.0293349Z     at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:240:7)
2025-09-24T01:00:01.0293810Z     at ModuleJob.run (node:internal/modules/esm/module_job:325:25)
2025-09-24T01:00:01.0294299Z     at async ModuleLoader.import (node:internal/modules/esm/loader:606:24) {
2025-09-24T01:00:01.0294766Z   [cause]: Error: Cannot find module '@rollup/rollup-linux-x64-gnu'
2025-09-24T01:00:01.0295470Z   Require stack:
2025-09-24T01:00:01.0296324Z   - /home/runner/work/advanced-tools-navigation/advanced-tools-navigation/node_modules/rollup/dist/native.js
2025-09-24T01:00:01.0297408Z       at Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)
2025-09-24T01:00:01.0298131Z       at Module._load (node:internal/modules/cjs/loader:1038:27)
2025-09-24T01:00:01.0298813Z       at Module.require (node:internal/modules/cjs/loader:1289:19)
2025-09-24T01:00:01.0299451Z       at require (node:internal/modules/helpers:182:18)
2025-09-24T01:00:01.0300712Z       at requireWithFriendlyError (/home/runner/work/advanced-tools-navigation/advanced-tools-navigation/node_modules/rollup/dist/native.js:53:10)
2025-09-24T01:00:01.0302679Z       at Object.<anonymous> (/home/runner/work/advanced-tools-navigation/advanced-tools-navigation/node_modules/rollup/dist/native.js:80:76)
2025-09-24T01:00:01.0303886Z       at Module._compile (node:internal/modules/cjs/loader:1521:14)
2025-09-24T01:00:01.0304633Z       at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
2025-09-24T01:00:01.0305354Z       at Module.load (node:internal/modules/cjs/loader:1266:32)
2025-09-24T01:00:01.0306023Z       at Module._load (node:internal/modules/cjs/loader:1091:12) {
2025-09-24T01:00:01.0306597Z     code: 'MODULE_NOT_FOUND',
2025-09-24T01:00:01.0306975Z     requireStack: [
2025-09-24T01:00:01.0307837Z       '/home/runner/work/advanced-tools-navigation/advanced-tools-navigation/node_modules/rollup/dist/native.js'
2025-09-24T01:00:01.0308673Z     ]
2025-09-24T01:00:01.0308940Z   }
2025-09-24T01:00:01.0309194Z }
2025-09-24T01:00:01.0309346Z 
2025-09-24T01:00:01.0309476Z Node.js v20.19.5
2025-09-24T01:00:01.0423337Z ##[error]Process completed with exit code 1.
2025-09-24T01:00:01.0521729Z Post job cleanup.
2025-09-24T01:00:01.1558461Z [command]/usr/bin/git version
2025-09-24T01:00:01.1599242Z git version 2.51.0
2025-09-24T01:00:01.1642397Z Temporarily overriding HOME='/home/runner/work/_temp/d7dc4533-d710-452a-ae90-016dd1e455d4' before making global git config changes
2025-09-24T01:00:01.1643395Z Adding repository directory to the temporary git global config as a safe directory
2025-09-24T01:00:01.1647904Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/advanced-tools-navigation/advanced-tools-navigation
2025-09-24T01:00:01.1685129Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-09-24T01:00:01.1721404Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-09-24T01:00:01.1965924Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-09-24T01:00:01.1986630Z http.https://github.com/.extraheader
2025-09-24T01:00:01.1999314Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-09-24T01:00:01.2028940Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-09-24T01:00:01.2368124Z Cleaning up orphan processes
