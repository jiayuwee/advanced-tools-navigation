# 核心功能视图

<cite>
**本文档引用的文件**
- [ToolsView.vue](file://src/views/ToolsView.vue)
- [ToolDetailView.vue](file://src/views/ToolDetailView.vue)
- [ProductsView.vue](file://src/views/ProductsView.vue)
- [ProductDetailView.vue](file://src/views/ProductDetailView.vue)
- [SearchResultsView.vue](file://src/views/SearchResultsView.vue)
- [HomeView.vue](file://src/views/HomeView.vue)
- [toolsService.ts](file://src/services/toolsService.ts)
- [productsService.ts](file://src/services/productsService.ts)
- [searchService.ts](file://src/services/searchService.ts)
- [useAdvancedSearch.ts](file://src/composables/useAdvancedSearch.ts)
- [useLazyLoading.ts](file://src/composables/useLazyLoading.ts)
</cite>

## 目录
1. [工具视图](#工具视图)
2. [工具详情视图](#工具详情视图)
3. [产品视图](#产品视图)
4. [产品详情视图](#产品详情视图)
5. [搜索结果视图](#搜索结果视图)
6. [首页视图](#首页视图)
7. [数据服务集成](#数据服务集成)

## 工具视图

`ToolsView` 组件实现了工具分类导航、列表渲染与懒加载策略。该视图通过高级搜索面板提供多维度筛选功能，支持按名称、热度和创建时间排序，并允许用户切换网格与列表两种展示模式。视图通过 `useToolsStore` 状态管理获取工具数据，结合 `useAdvancedSearch` 组合式函数实现搜索功能。

视图采用响应式设计，根据用户交互动态更新工具列表。在网格模式下，每个工具卡片展示图标、名称、描述、标签及统计信息；在列表模式下，信息以更紧凑的方式呈现。空状态处理机制确保在无搜索结果或特定分类无工具时提供友好的用户提示。

**视图来源**
- [ToolsView.vue](file://src/views/ToolsView.vue#L1-L967)

## 工具详情视图

`ToolDetailView` 组件负责工具信息的全面展示，集成了评分组件与用户评价交互功能。该视图通过路由参数获取工具ID，从工具存储中加载详细信息，包括名称、描述、功能特性、使用教程、优缺点分析和价格信息等。

视图包含多个功能区域：工具头部显示基本信息和操作按钮；功能特性以网格形式展示；使用教程支持Markdown格式渲染；优缺点分析采用对比布局；评分组件 `ToolRating` 提供用户评分和评论功能。相关工具推荐区域基于相同分类算法展示关联工具，增强用户发现能力。

**视图来源**
- [ToolDetailView.vue](file://src/views/ToolDetailView.vue#L1-L511)

## 产品视图

`ProductsView` 组件实现产品网格布局、价格展示与购买入口设计。该视图采用响应式网格系统，支持网格和列表两种展示模式，每个产品卡片包含图片、价格信息、名称、描述和标签。价格展示支持原价和折扣价对比，通过删除线样式突出优惠信息。

视图顶部提供分类标签页和搜索框，用户可按分类筛选产品。产品卡片底部设有"立即购买"和"预览"按钮，构成购买入口。空状态处理机制在无产品时显示提示信息并提供查看全部产品的选项。视图还包含添加产品模态框，为管理员提供产品管理功能。

**视图来源**
- [ProductsView.vue](file://src/views/ProductsView.vue#L1-L738)

## 产品详情视图

`ProductDetailView` 组件展示产品详细信息，包含规格选择与支付流程衔接功能。该视图采用双栏布局，左侧为产品图片画廊，右侧为产品信息和操作区域。产品信息包括名称、价格、描述、标签和收藏状态。

购买流程通过 `buyProduct` 方法实现，首先检查用户登录状态，未登录用户将被重定向到登录页面并携带返回参数；已登录用户则跳转到支付页面，传递产品ID作为查询参数。这种设计确保了支付流程的安全性和用户体验的连贯性。视图还提供在线预览和收藏功能，增强用户互动。

**视图来源**
- [ProductDetailView.vue](file://src/views/ProductDetailView.vue#L1-L501)

## 搜索结果视图

`SearchResultsView` 组件实现搜索结果高亮、分页加载与无结果处理。该视图通过 `searchService` 服务执行搜索操作，支持按工具、产品、分类等类型过滤结果。搜索结果以分组形式展示，工具和产品分别在独立的区域呈现。

视图包含搜索统计信息，显示结果数量和搜索耗时。搜索建议功能基于搜索服务返回的相关建议，帮助用户优化查询。无结果状态提供详细的搜索建议，包括使用更通用的关键词、检查拼写、尝试同义词等，提升用户体验。错误状态处理机制在搜索失败时显示错误信息并提供重试按钮。

**视图来源**
- [SearchResultsView.vue](file://src/views/SearchResultsView.vue#L1-L571)

## 首页视图

`HomeView` 组件实现推荐内容展示与模块化布局。该视图采用现代化设计，包含动态渐变背景、浮动元素动画和自定义光标效果，提升视觉吸引力。导航栏提供主要功能入口，英雄区域突出搜索功能。

视图核心功能包括：热门分类筛选，用户可点击分类标签过滤工具；工具卡片网格，展示推荐工具并支持收藏操作。首页通过 `displayTools` 计算属性动态决定展示内容：当有搜索结果时显示搜索结果，否则根据选中的分类展示相应工具或全部工具。这种设计实现了搜索与浏览的无缝集成。

**视图来源**
- [HomeView.vue](file://src/views/HomeView.vue#L1-L599)

## 数据服务集成

各视图通过 `toolsService`、`productsService` 与 `searchService` 高效获取数据、处理用户交互并保持性能优化。`toolsService` 提供工具数据的增删改查操作，支持点击计数和收藏功能；`productsService` 管理产品信息和购买流程；`searchService` 实现全文搜索和智能建议。

视图通过组合式函数（如 `useAdvancedSearch` 和 `useLazyLoading`）封装通用逻辑，提高代码复用性。状态管理采用 Pinia store 模式，`toolsStore`、`productsStore` 等集中管理应用状态，确保数据一致性。错误处理机制在数据加载失败时提供重试功能，增强应用健壮性。

**服务来源**
- [toolsService.ts](file://src/services/toolsService.ts)
- [productsService.ts](file://src/services/productsService.ts)
- [searchService.ts](file://src/services/searchService.ts)
- [useAdvancedSearch.ts](file://src/composables/useAdvancedSearch.ts)
- [useLazyLoading.ts](file://src/composables/useLazyLoading.ts)