# 静态资源

<cite>
**本文档引用的文件**
- [google-site-verification.html](file://public/google-site-verification.html)
- [manifest.json](file://public/manifest.json)
- [robots.txt](file://public/robots.txt)
- [sitemap.xml](file://public/sitemap.xml)
- [generate-default-icon.js](file://scripts/generate-default-icon.js)
- [nginx.conf](file://config/deployment/nginx.conf)
</cite>

## 目录
1. [介绍](#介绍)
2. [google-site-verification.html 说明](#google-site-verificationhtml-说明)
3. [manifest.json 配置分析](#manifestjson-配置分析)
4. [robots.txt 爬虫控制规则](#robotstxt-爬虫控制规则)
5. [sitemap.xml 站点地图结构](#sitemaptxml-站点地图结构)
6. [静态资源配置最佳实践](#静态资源配置最佳实践)

## 介绍
本项目 `public` 目录包含多个关键的静态资源文件，用于支持搜索引擎优化（SEO）、PWA（渐进式Web应用）功能、爬虫访问控制和站点结构索引。这些文件在部署后直接暴露于网站根目录，对网站的可发现性、用户体验和安全性起着重要作用。

## google-site-verification.html 说明

`google-site-verification.html` 是用于验证网站所有权的专用HTML文件，主要配合 Google Search Console 使用。通过将此文件部署到网站根目录，开发者可以证明对 `ramusi.cn` 域名的控制权。

该文件包含一个 `<meta>` 标签，其 `name="google-site-verification"` 属性用于标识验证信息，`content` 字段应替换为 Google 提供的实际验证代码。文件本身也包含详细的中文说明，指导开发者完成验证流程，包括登录 Search Console、添加网站属性、选择HTML文件验证方式并最终提交验证。

验证成功后，开发者可在 Google Search Console 中提交站点地图、监控索引状态、分析搜索表现并优化网站在搜索结果中的展示。

**Section sources**
- [google-site-verification.html](file://public/google-site-verification.html#L1-L30)

## manifest.json 配置分析

`manifest.json` 是实现 PWA（渐进式Web应用）功能的核心配置文件，定义了应用在用户设备上的安装和显示行为。

该文件配置了以下关键属性：
- **name** 和 **short_name**：应用的全名和简称，用于主屏幕显示
- **description**：应用描述，提升用户理解
- **theme_color** 和 **background_color**：定义应用主题色和背景色，影响浏览器UI和启动画面
- **display: standalone**：使应用以独立模式运行，隐藏浏览器边框，提供类原生体验
- **orientation: portrait**：锁定竖屏显示
- **scope** 和 **start_url**：定义应用的导航范围和入口页面
- **icons**：提供多尺寸图标，适配不同设备和平台（如72x72至512x512像素）

当用户访问网站时，浏览器会读取此文件并提示“添加到主屏幕”。点击后，应用将以全屏模式运行，具备独立图标和启动画面，显著提升用户体验。

此外，项目中的 `generate-default-icon.js` 脚本可用于生成默认的 `apple-touch-icon.png`，确保在iOS设备上的兼容性。

**Section sources**
- [manifest.json](file://public/manifest.json#L1-L52)
- [generate-default-icon.js](file://scripts/generate-default-icon.js#L1-L33)

## robots.txt 爬虫控制规则

`robots.txt` 文件用于指导搜索引擎爬虫的访问行为，遵循 Robots Exclusion Protocol 标准。

本项目的 `robots.txt` 配置如下：
- **User-agent: \***：适用于所有爬虫
- **Allow: /**：允许访问根目录
- **Allow 规则**：明确允许访问 `/tools`、`/products`、`/favorites`、`/comparison` 等公开页面
- **Disallow 规则**：禁止访问 `/admin`、`/user`、`/auth`、`/payment`、`/orders` 等敏感或管理页面
- **禁止访问API和配置文件**：通过正则模式 `/*.json$` 和 `/*.config.js$` 阻止爬取配置文件
- **Sitemap**：指定站点地图位置为 `https://ramusi.cn/sitemap.xml`
- **Crawl-delay**：设置爬取延迟为1毫秒，避免服务器压力
- **特定搜索引擎优化**：为 `Googlebot`、`Baiduspider`、`Sogou web spider` 单独配置爬取策略，其中 Googlebot 允许无延迟爬取

该配置有效平衡了SEO优化与安全隐私，确保搜索引擎能索引核心内容，同时保护用户数据和管理接口。

**Section sources**
- [robots.txt](file://public/robots.txt#L1-L38)

## sitemap.xml 站点地图结构

`sitemap.xml` 是向搜索引擎提供网站结构信息的XML文件，有助于提高页面索引效率和SEO表现。

本项目的站点地图包含以下页面条目：
- **首页**：优先级1.0，每日更新
- **工具页面**：优先级0.9，每日更新
- **产品页面**：优先级0.8，每周更新
- **用户相关页面**（登录/注册）：优先级0.6，每月更新
- **用户功能页面**（收藏/对比）：优先级0.7，每周更新
- **管理页面**：优先级0.3，每月更新

每个 `<url>` 条目包含：
- `<loc>`：页面完整URL
- `<lastmod>`：最后修改时间
- `<changefreq>`：更新频率（daily/weekly/monthly）
- `<priority>`：相对优先级（0.0-1.0）

通过提交此站点地图到 Google Search Console 和百度站长平台，搜索引擎能更高效地发现和索引网站内容，尤其对动态路由的SPA应用至关重要。

**Section sources**
- [sitemap.xml](file://public/sitemap.xml#L1-L68)

## 静态资源配置最佳实践

### 修改现有静态文件
1. **google-site-verification.html**：将 `YOUR_VERIFICATION_CODE_HERE` 替换为实际的验证代码
2. **manifest.json**：根据品牌需求更新名称、描述、颜色和图标路径
3. **robots.txt**：根据新页面结构调整 Allow/Disallow 规则
4. **sitemap.xml**：定期更新 `<lastmod>` 时间戳，添加新页面条目

### 添加新的静态资源
1. 将新文件放入 `public` 目录
2. 确保文件名符合规范（小写、无空格）
3. 在 `nginx.conf` 中配置适当的缓存策略（如JS/CSS长期缓存，HTML不缓存）
4. 如有必要，在 `robots.txt` 中添加访问控制规则

### 服务器配置协同
`nginx.conf` 中已配置：
- 静态资源（JS/CSS/图片等）缓存1年，提升性能
- HTML文件不缓存，确保内容实时更新
- SPA路由支持，通过 `try_files $uri $uri/ /index.html` 实现前端路由
- 安全头设置，增强安全性

这些配置与 `public` 目录的静态文件协同工作，共同保障网站的性能、安全和可访问性。

**Section sources**
- [nginx.conf](file://config/deployment/nginx.conf#L46-L84)
- [manifest.json](file://public/manifest.json#L1-L52)
- [robots.txt](file://public/robots.txt#L1-L38)
- [sitemap.xml](file://public/sitemap.xml#L1-L68)
- [google-site-verification.html](file://public/google-site-verification.html#L1-L30)